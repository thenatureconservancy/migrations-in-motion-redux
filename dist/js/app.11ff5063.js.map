{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?71ab","webpack:///./src/App.vue","webpack:///./src/modules/windy.js","webpack:///src/App.vue","webpack:///./src/App.vue?60d0","webpack:///./src/App.vue?315a","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_c","_self","directives","rawName","caption","dat","expression","staticClass","attrs","on","shortcuts","showDat","model","mapCountryLineWidth","callback","$$v","mapCountryLineOpacity","mapLandColor","mapSatelliteOpacity","compositeOptions","compositeSelected","birdsOn","birdsColor","birdsActive","VELOCITY_SCALE","$set","MAX_PARTICLE_AGE","PARTICLE_MULTIPLIER","FADE_TRANSPARENCY","COLOR_ALPHA","mammalsOn","mammalsColor","mammalsActive","amphibsOn","amphibsColor","amphibsActive","_e","showCaption","_m","style","_v","toggleDat","class","hide","staticStyle","staticRenderFns","Windy","params","config","INTENSITY_SCALE_STEP","MAX_WIND_INTENSITY","PARTICLE_LINE_WIDTH","FRAME_RATE","NULL_WIND_VECTOR","FADE_FILL_STYLE","COLOR_RAMP","COMPOSITE_OPERATION","bilinearInterpolateVector","x","y","g00","g10","g01","g11","rx","ry","a","b","u","v","Math","sqrt","createWindBuilder","uComp","vComp","uData","vData","header","interpolate","createBuilder","forEach","record","parameterCategory","parameterNumber","buildGrid","builder","λ0","lo1","φ0","la1","Δλ","dx","Δφ","dy","ni","nx","nj","ny","date","Date","refTime","setHours","getHours","forecastTime","grid","isContinuous","floor","row","λ","φ","floorMod","fi","ci","fj","cj","isValue","undefined","distort","projection","scale","wind","windy","distortion","τ","PI","H","pow","hλ","hφ","pλ","project","pφ","k","cos","createField","columns","bounds","field","column","round","release","randomize","safetyNet","random","width","height","buildBounds","upperLeft","lowerRight","max","yMax","min","ceil","xMax","deg2rad","deg","rad2deg","ang","invert","mapLonDelta","east","west","worldMapRadius","mapOffsetY","log","sin","south","equatorY","lat","atan","exp","lon","mercY","tan","ymin","ymax","north","xFactor","yFactor","y2","interpolateField","extent","velocityScale","interpolateColumn","coord","isFinite","batchInterpolate","start","now","setTimeout","animate","windIntensityColorScale","step","maxWind","indexFor","colorStyles","buckets","map","particleCount","particles","age","evolve","bucket","particle","xt","yt","g","canvas","getContext","powerPreference","draw","prev","globalCompositeOperation","fillRect","globalAlpha","beginPath","strokeStyle","moveTo","lineTo","stroke","lineWidth","fillStyle","frame","timer","requestAnimationFrame","e","console","error","activeFlowConfig","particleLineWidth","mapBounds","stop","clearTimeout","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","mapLandOpacity","mapWaterColor","mapWaterOpacity","mapLakeColor","mapLakeOpacity","mapCountryLineColor","mapCountryLabels","mapCityLabels","mapRoadsOpacity","activeScenario","amphibsActive2","birdsActive2","mammalsActive2","titleFontSize","zoomWidth","default","z2","z3","z4","z5","z6","z7","scene1","amphibs","NaN","spData","spName","sceneName","birds","mammals","scene2","scene4","scene5","scene6","scene7","content","text","activeContentStep","methods","debounce","func","wait","timeout","args","event","srcKey","toggleCaption","flyToLocation","location","locations","SA","coords","zoom","NA","West","West2","WestTight","East","World","flyTo","center","speed","curve","essential","fadeOpacity","layer","fadeDirection","fadeTime","self","counter","opacityFader","setInterval","clearInterval","removeDiv","divId","removeTime","document","getElementById","remove","createMap","mapboxgl","accessToken","Map","container","attributionControl","hash","dragRotate","disable","touchZoomRotate","disableRotation","keyboard","addControl","NavigationControl","showCompass","setPaintProperty","calculateParticleWidth","zoomLevel","getZoom","particleWidth","buildFlow","divName","windyContainer","cssClassArray","fetch","then","json","parentNode","canvasNode","createElement","resetWind","mapcanvas","obj","getEventObject","context","devicePixelRatio","display","getContainer","dimensions","clientWidth","clientHeight","getCanvas","getBounds","getNorth","getSouth","getWest","getEast","id","className","classList","add","appendChild","captionState","loadFlowLayers","amphibsActiveWindy","birdsActiveWindy","mammalsActiveWindy","nextContent","previousContent","mounted","watch","handler","labelState","labelVisibility","setLayoutProperty","opacity","color","deep","currentZoom","zoomTo","computed","activeContent","amphibsConfig","JSON","parse","stringify","birdsConfig","mammalsConfig","component","Vue","productionTip","use","require","DatGui","h","App","$mount"],"mappings":"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","file":"js/app.11ff5063.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=7eeeb29d&prod&lang=css&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"shortkey\",rawName:\"v-shortkey\",value:({\n      caption: ['ctrl', 'c'],\n      dat: ['ctrl', 'u'],\n    }),expression:\"{\\n      caption: ['ctrl', 'c'],\\n      dat: ['ctrl', 'u'],\\n    }\"}],staticClass:\"nocursor\",attrs:{\"id\":\"app\"},on:{\"shortkey\":_vm.shortcuts}},[_c('keep-alive',[(_vm.showDat)?_c('div',[_c('dat-gui',{staticClass:\"dat-gui-ui\",attrs:{\"closeText\":\"Close controls\",\"openText\":\"Open controls\",\"closePosition\":\"bottom\"}},[_c('dat-folder',{attrs:{\"label\":\"Map Properties\"}},[_c('dat-number',{attrs:{\"min\":0,\"max\":4,\"step\":0.1,\"label\":\"Country Line Width\"},model:{value:(_vm.mapCountryLineWidth),callback:function ($$v) {_vm.mapCountryLineWidth=$$v},expression:\"mapCountryLineWidth\"}}),_c('dat-number',{attrs:{\"min\":0,\"max\":1,\"step\":0.01,\"label\":\"Country Line Opacity\"},model:{value:(_vm.mapCountryLineOpacity),callback:function ($$v) {_vm.mapCountryLineOpacity=$$v},expression:\"mapCountryLineOpacity\"}}),_c('dat-color',{attrs:{\"label\":\"Land Color\"},model:{value:(_vm.mapLandColor),callback:function ($$v) {_vm.mapLandColor=$$v},expression:\"mapLandColor\"}}),_c('dat-number',{attrs:{\"min\":0,\"max\":1,\"step\":0.005,\"label\":\"Satellite Opacity\"},model:{value:(_vm.mapSatelliteOpacity),callback:function ($$v) {_vm.mapSatelliteOpacity=$$v},expression:\"mapSatelliteOpacity\"}}),_c('dat-select',{attrs:{\"items\":_vm.compositeOptions,\"label\":\"Composite Operation\"},model:{value:(_vm.compositeSelected),callback:function ($$v) {_vm.compositeSelected=$$v},expression:\"compositeSelected\"}})],1),_c('dat-folder',{attrs:{\"label\":\"Birds\"}},[_c('dat-boolean',{attrs:{\"label\":\"Display Layer\"},model:{value:(_vm.birdsOn),callback:function ($$v) {_vm.birdsOn=$$v},expression:\"birdsOn\"}}),_c('dat-color',{attrs:{\"label\":\"Birds Color\"},model:{value:(_vm.birdsColor),callback:function ($$v) {_vm.birdsColor=$$v},expression:\"birdsColor\"}}),_c('dat-number',{attrs:{\"min\":0,\"max\":1,\"step\":0.01,\"label\":\"Velocity Scale\"},model:{value:(_vm.birdsActive.VELOCITY_SCALE),callback:function ($$v) {_vm.$set(_vm.birdsActive, \"VELOCITY_SCALE\", $$v)},expression:\"birdsActive.VELOCITY_SCALE\"}}),_c('dat-number',{attrs:{\"min\":0,\"max\":200,\"step\":1,\"label\":\"Max Particle Age\"},model:{value:(_vm.birdsActive.MAX_PARTICLE_AGE),callback:function ($$v) {_vm.$set(_vm.birdsActive, \"MAX_PARTICLE_AGE\", $$v)},expression:\"birdsActive.MAX_PARTICLE_AGE\"}}),_c('dat-number',{attrs:{\"min\":0,\"max\":2,\"step\":0.05,\"label\":\"Particle Multiplier\"},model:{value:(_vm.birdsActive.PARTICLE_MULTIPLIER),callback:function ($$v) {_vm.$set(_vm.birdsActive, \"PARTICLE_MULTIPLIER\", $$v)},expression:\"birdsActive.PARTICLE_MULTIPLIER\"}}),_c('dat-number',{attrs:{\"min\":0,\"max\":1,\"step\":0.01,\"label\":\"Fade Transparency\"},model:{value:(_vm.birdsActive.FADE_TRANSPARENCY),callback:function ($$v) {_vm.$set(_vm.birdsActive, \"FADE_TRANSPARENCY\", $$v)},expression:\"birdsActive.FADE_TRANSPARENCY\"}}),_c('dat-number',{attrs:{\"min\":0,\"max\":1,\"step\":0.01,\"label\":\"Color Alpha\"},model:{value:(_vm.birdsActive.COLOR_ALPHA),callback:function ($$v) {_vm.$set(_vm.birdsActive, \"COLOR_ALPHA\", $$v)},expression:\"birdsActive.COLOR_ALPHA\"}})],1),_c('dat-folder',{attrs:{\"label\":\"Mammals\"}},[_c('dat-boolean',{attrs:{\"label\":\"Display Layer\"},model:{value:(_vm.mammalsOn),callback:function ($$v) {_vm.mammalsOn=$$v},expression:\"mammalsOn\"}}),_c('dat-color',{attrs:{\"label\":\"Mammals Color\"},model:{value:(_vm.mammalsColor),callback:function ($$v) {_vm.mammalsColor=$$v},expression:\"mammalsColor\"}}),_c('dat-number',{attrs:{\"min\":0,\"max\":1,\"step\":0.01,\"label\":\"Velocity Scale\"},model:{value:(_vm.mammalsActive.VELOCITY_SCALE),callback:function ($$v) {_vm.$set(_vm.mammalsActive, \"VELOCITY_SCALE\", $$v)},expression:\"mammalsActive.VELOCITY_SCALE\"}}),_c('dat-number',{attrs:{\"min\":0,\"max\":200,\"step\":1,\"label\":\"Max Particle Age\"},model:{value:(_vm.mammalsActive.MAX_PARTICLE_AGE),callback:function ($$v) {_vm.$set(_vm.mammalsActive, \"MAX_PARTICLE_AGE\", $$v)},expression:\"mammalsActive.MAX_PARTICLE_AGE\"}}),_c('dat-number',{attrs:{\"min\":0,\"max\":2,\"step\":0.05,\"label\":\"Particle Multiplier\"},model:{value:(_vm.mammalsActive.PARTICLE_MULTIPLIER),callback:function ($$v) {_vm.$set(_vm.mammalsActive, \"PARTICLE_MULTIPLIER\", $$v)},expression:\"mammalsActive.PARTICLE_MULTIPLIER\"}}),_c('dat-number',{attrs:{\"min\":0,\"max\":1,\"step\":0.01,\"label\":\"Fade Transparency\"},model:{value:(_vm.mammalsActive.FADE_TRANSPARENCY),callback:function ($$v) {_vm.$set(_vm.mammalsActive, \"FADE_TRANSPARENCY\", $$v)},expression:\"mammalsActive.FADE_TRANSPARENCY\"}}),_c('dat-number',{attrs:{\"min\":0,\"max\":1,\"step\":0.01,\"label\":\"Color Alpha\"},model:{value:(_vm.mammalsActive.COLOR_ALPHA),callback:function ($$v) {_vm.$set(_vm.mammalsActive, \"COLOR_ALPHA\", $$v)},expression:\"mammalsActive.COLOR_ALPHA\"}})],1),_c('dat-folder',{attrs:{\"label\":\"Amphibians\"}},[_c('dat-boolean',{attrs:{\"label\":\"Display Layer\"},model:{value:(_vm.amphibsOn),callback:function ($$v) {_vm.amphibsOn=$$v},expression:\"amphibsOn\"}}),_c('dat-color',{attrs:{\"label\":\"Amphibs Color\"},model:{value:(_vm.amphibsColor),callback:function ($$v) {_vm.amphibsColor=$$v},expression:\"amphibsColor\"}}),_c('dat-number',{attrs:{\"min\":0,\"max\":1,\"step\":0.01,\"label\":\"Velocity Scale\"},model:{value:(_vm.amphibsActive.VELOCITY_SCALE),callback:function ($$v) {_vm.$set(_vm.amphibsActive, \"VELOCITY_SCALE\", $$v)},expression:\"amphibsActive.VELOCITY_SCALE\"}}),_c('dat-number',{attrs:{\"min\":0,\"max\":200,\"step\":1,\"label\":\"Max Particle Age\"},model:{value:(_vm.amphibsActive.MAX_PARTICLE_AGE),callback:function ($$v) {_vm.$set(_vm.amphibsActive, \"MAX_PARTICLE_AGE\", $$v)},expression:\"amphibsActive.MAX_PARTICLE_AGE\"}}),_c('dat-number',{attrs:{\"min\":0,\"max\":2,\"step\":0.05,\"label\":\"Particle Multiplier\"},model:{value:(_vm.amphibsActive.PARTICLE_MULTIPLIER),callback:function ($$v) {_vm.$set(_vm.amphibsActive, \"PARTICLE_MULTIPLIER\", $$v)},expression:\"amphibsActive.PARTICLE_MULTIPLIER\"}}),_c('dat-number',{attrs:{\"min\":0,\"max\":1,\"step\":0.01,\"label\":\"Fade Transparency\"},model:{value:(_vm.amphibsActive.FADE_TRANSPARENCY),callback:function ($$v) {_vm.$set(_vm.amphibsActive, \"FADE_TRANSPARENCY\", $$v)},expression:\"amphibsActive.FADE_TRANSPARENCY\"}}),_c('dat-number',{attrs:{\"min\":0,\"max\":1,\"step\":0.01,\"label\":\"Color Alpha\"},model:{value:(_vm.amphibsActive.COLOR_ALPHA),callback:function ($$v) {_vm.$set(_vm.amphibsActive, \"COLOR_ALPHA\", $$v)},expression:\"amphibsActive.COLOR_ALPHA\"}})],1)],1)],1):_vm._e()]),(_vm.showCaption)?_c('div',{attrs:{\"id\":\"viz-meta\"}},[_vm._m(0),_c('div',{attrs:{\"id\":\"legend-inline\"}},[(_vm.birdsOn)?_c('div',{staticClass:\"legend-item-inline\"},[_c('div',{staticClass:\"legend-color\",style:({ 'background-color': _vm.birdsColor })}),_c('div',{staticClass:\"legend-text\"},[_vm._v(\"Birds\")])]):_vm._e(),(_vm.mammalsOn)?_c('div',{staticClass:\"legend-item-inline\"},[_c('div',{staticClass:\"legend-color\",style:({ 'background-color': _vm.mammalsColor })}),_c('div',{staticClass:\"legend-text\"},[_vm._v(\"Mammals\")])]):_vm._e(),(_vm.amphibsOn)?_c('div',{staticClass:\"legend-item-inline\"},[_c('div',{staticClass:\"legend-color\",style:({ 'background-color': _vm.amphibsColor })}),_c('div',{staticClass:\"legend-text\"},[_vm._v(\"Amphibians\")])]):_vm._e()]),_c('div',[_c('p',[_vm._v(\" As climate change alters habitats and disrupts ecosystems, where will animals move to survive? And will human development prevent them from getting there? \")]),_c('p',[_vm._v(\" This map shows the average direction mammals, birds, and amphibians need to move to track hospitable climates as they shift across the landscape. ↓ \")]),_c('h2',[_vm._v(\"How?\")]),_c('p',[_vm._v(\" Researchers from University of Washington and The Nature Conservancy modeled potential habitat for 2954 species using climate change projections and the climatic needs of each species. \")]),_vm._m(1),_c('h2',[_vm._v(\"What Can We Do?\")]),_vm._m(2),_c('h2',[_vm._v(\"So...\")]),_vm._m(3),_vm._m(4),_c('h2',[_vm._v(\"Credits\")]),_vm._m(5),_vm._m(6),_c('h2',[_vm._v(\"Bonus Fun!\")]),_vm._m(7),_c('div',{attrs:{\"id\":\"switch-container\"}},[_c('label',{staticClass:\"switch\"},[_c('input',{attrs:{\"type\":\"checkbox\"},on:{\"click\":_vm.toggleDat}}),_c('span',{staticClass:\"slider round\"})]),_c('span',{staticClass:\"switch-label\"},[_vm._v(\"Visualization Controls\")])]),_c('h2',[_vm._v(\"References\")]),_vm._m(8),_vm._m(9)]),_c('img',{staticClass:\"tnc-logo\",attrs:{\"src\":\"tnc-logo-light.svg\",\"alt\":\"The Nature Conservancy\"}})]):_vm._e(),_c('div',{staticClass:\"wind-map-container nocursor\",class:{ hide: !_vm.birdsOn },staticStyle:{\"display\":\"initial\"},attrs:{\"id\":\"windContainerbirds\"}}),_c('div',{staticClass:\"wind-map-container nocursor\",class:{ hide: !_vm.mammalsOn },staticStyle:{\"display\":\"initial\"},attrs:{\"id\":\"windContainermammals\"}}),_c('div',{staticClass:\"wind-map-container nocursor\",class:{ hide: !_vm.amphibsOn },staticStyle:{\"display\":\"initial\"},attrs:{\"id\":\"windContaineramphibs\"}}),_vm._m(10)],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('h1',[_vm._v(\"Migrations \"),_c('br',{staticClass:\"title-break\"}),_vm._v(\"In Motion\")])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',[_vm._v(\" Using flow models from \"),_c('a',{attrs:{\"href\":\"https://www.circuitscape.org/\",\"target\":\"_blank\"}},[_vm._v(\"electronic circuit theory\")]),_vm._v(\", they plotted movement routes for each species, connecting current habitats with their projected locations under climate change. \")])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',[_vm._v(\" There are a number of ways that conservationists and land managers can \"),_c('a',{attrs:{\"href\":\"https://blog.nature.org/science/2016/06/29/species-on-the-move-mapping-barriers-for-wildlife-in-a-warming-world/?utm_source=cgs&utm_medium=alsoin&utm_campaign=migrations\",\"target\":\"_blank\"}},[_vm._v(\"re-build or maintain connectivity\")]),_vm._v(\" to improve species’ ability to adapt to warmer temperatures. Removing fencing, adding wildlife overpasses (or underpasses) to major roadways, and better routing of infrastructure like pipelines and powerlines can all help re-connect areas fragmented by human development. \")])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',[_c('strong',[_vm._v(\"Q: Does this mean 3000 species will move through my backyard because of climate change?\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',[_c('strong',[_vm._v(\"A:\")]),_vm._v(\" No, the researchers used coarse 50 km data, which is good for understanding the big picture view, but not good for understanding local patterns. \")])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',[_vm._v(\" This map was created by \"),_c('a',{attrs:{\"href\":\"mailto:dmajka@tnc.org\",\"target\":\"_blank\"}},[_vm._v(\"Dan Majka\")]),_vm._v(\", who works for The Nature Conservancy's North America Region science team. \")])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',[_vm._v(\" This work would have not been possible without the \"),_c('a',{attrs:{\"href\":\"https://blog.nature.org/science/2018/04/26/innovation-for-conservation-brad-mcrae-1966-2017/\",\"target\":\"_blank\"}},[_vm._v(\"pioneering connectivity science of Brad McRae (1966-2017)\")]),_vm._v(\". \")])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',[_vm._v(\" The visualization uses code adapted from \"),_c('a',{attrs:{\"href\":\"https://github.com/FreshyLabs/windy\"}},[_vm._v(\"windy-js\")]),_vm._v(\", which adapated code from the \"),_c('a',{attrs:{\"href\":\"https://github.com/cambecc/earth\"}},[_vm._v(\"earth 3D wind visualization\")]),_vm._v(\", which was inspired by \"),_c('a',{attrs:{\"href\":\"http://hint.fm/wind/\"}},[_vm._v(\"hint.fm/wind\")]),_vm._v(\", which is based on the concept of \"),_c('a',{attrs:{\"href\":\"https://natureofcode.com/autonomous-agents/#flow-fields\"}},[_vm._v(\"flow fields\")]),_vm._v(\". To experiment with some of the underlying parameters, turn on controls: \")])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',[_vm._v(\" Lawler, JJ, et al. 2013. \"),_c('a',{attrs:{\"href\":\"https://citeseerx.ist.psu.edu/document?repid=rep1&type=pdf&doi=68af63ecff902864920e93168c7d474392f4520a\",\"target\":\"_blank\"}},[_vm._v(\"Projected climate-driven faunal movement routes\")]),_vm._v(\". Ecology Letters 16(8): 1014-1022. \")])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',[_vm._v(\" McGuire, JL, et al. 2016. \"),_c('a',{attrs:{\"href\":\"http://www.pnas.org/content/113/26/7195.abstract\",\"target\":\"_blank\"}},[_vm._v(\"Achieving climate connectivity in a fragmented landscape\")]),_vm._v(\". Proceedings of the National Academy of Sciences: 113: 7195-7200. \")])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"mapbox-map-container nocursor\"},[_c('div',{staticClass:\"nocursor\",attrs:{\"id\":\"map\"}})])\n}]\n\nexport { render, staticRenderFns }","/*  Global class for simulating the movement of particle through a 1km wind grid\n\n    credit: All the credit for this work goes to: https://github.com/cambecc for creating the repo:\n      https://github.com/cambecc/earth. The majority of this code is directly take nfrom there, since its awesome.\n\n    This class takes a canvas element and an array of data (1km GFS from http://www.emc.ncep.noaa.gov/index.php?branch=GFS)\n    and then uses a mercator (forward/reverse) projection to correctly map wind vectors in \"map space\".\n\n    The \"start\" method takes the bounds of the map at its current extent and starts the whole gridding,\n    interpolation and animation process.\n*/\n\nexport function Windy(params, config) {\n  var VELOCITY_SCALE = config.VELOCITY_SCALE; // 0.221;             // scale for wind velocity (completely arbitrary--this value looks nice)\n  // var OVERLAY_ALPHA = config.OVERLAY_ALPHA;\n  var INTENSITY_SCALE_STEP = config.INTENSITY_SCALE_STEP; // 10;            // step size of particle intensity color scale\n  var MAX_WIND_INTENSITY = config.MAX_WIND_INTENSITY; // 40;              // wind velocity at which particle intensity is maximum (m/s)\n\n  var MAX_PARTICLE_AGE = config.MAX_PARTICLE_AGE; // 100;                // max number of frames a particle is drawn before regeneration\n  var PARTICLE_LINE_WIDTH = config.PARTICLE_LINE_WIDTH; // 0.6;              // line width of a drawn particle\n  //var PARTICLE_MULTIPLIER = config.PARTICLE_MULTIPLIER; // 1 / 200;      // particle count scalar (completely arbitrary--this values looks nice). Changing this for Vue app\n  var PARTICLE_MULTIPLIER = config.PARTICLE_MULTIPLIER / 100; // 1/300    .001  .002 (500), .0033 (300), .004 (250) .005 (200), .01 (100) .02 (50)\n\n  // var PARTICLE_REDUCTION = config.PARTICLE_REDUCTION; // 0.5;            // reduce particle count to this much of normal for mobile devices\n  var FRAME_RATE = config.FRAME_RATE; // 60;                      // desired milliseconds per frame\n\n  //var BOUNDARY = 0.45;\n\n  var NULL_WIND_VECTOR = config.NULL_WIND_VECTOR; // [NaN, NaN, null];  // singleton for no wind in the form: [u, v, magnitude]\n  //var TRANSPARENT_BLACK = [0, 0, 0, 0]; // [255, 0, 0, 0];\n  var FADE_FILL_STYLE = config.FADE_FILL_STYLE; // \"rgba(0, 0, 0, 0.97)\"\n  //var COLOR_RAMP = config.COLOR_RAMP; // Changing input from array to string in order to sync w/ DAT. Now pushing it into an array in windy.\n  var COLOR_RAMP = [config.COLOR_RAMP];\n  var COMPOSITE_OPERATION = config.COMPOSITE_OPERATION;\n  var COLOR_ALPHA = config.COLOR_ALPHA;\n  // var COLOR_ALPHA = config.COLOR_ALPHA;\n\n  //var τ = 2 * Math.PI;\n  //var H = Math.pow(10, -5.2);\n\n  // interpolation for vectors like wind (u,v,m)\n  var bilinearInterpolateVector = function (x, y, g00, g10, g01, g11) {\n    var rx = 1 - x;\n    var ry = 1 - y;\n    var a = rx * ry,\n      b = x * ry,\n      c = rx * y,\n      d = x * y;\n    var u = g00[0] * a + g10[0] * b + g01[0] * c + g11[0] * d;\n    var v = g00[1] * a + g10[1] * b + g01[1] * c + g11[1] * d;\n    return [u, v, Math.sqrt(u * u + v * v)];\n  };\n\n  var createWindBuilder = function (uComp, vComp) {\n    var uData = uComp.data,\n      vData = vComp.data;\n    return {\n      header: uComp.header,\n      //recipe: recipeFor(\"wind-\" + uComp.header.surface1Value),\n      data: function (i) {\n        return [uData[i], vData[i]];\n      },\n      interpolate: bilinearInterpolateVector,\n    };\n  };\n\n  var createBuilder = function (data) {\n    var uComp = null,\n      vComp = null;\n    //var scalar = null;\n\n    data.forEach(function (record) {\n      // let scalar = null;\n      switch (\n        record.header.parameterCategory +\n        \",\" +\n        record.header.parameterNumber\n      ) {\n        case \"2,2\":\n          uComp = record;\n          break;\n        case \"2,3\":\n          vComp = record;\n          break;\n        // default:\n        //   scalar = record;\n      }\n    });\n\n    return createWindBuilder(uComp, vComp);\n  };\n\n  var buildGrid = function (data, callback) {\n    var builder = createBuilder(data);\n\n    var header = builder.header;\n    var λ0 = header.lo1,\n      φ0 = header.la1; // the grid's origin (e.g., 0.0E, 90.0N)\n    var Δλ = header.dx,\n      Δφ = header.dy; // distance between grid points (e.g., 2.5 deg lon, 2.5 deg lat)\n    var ni = header.nx,\n      nj = header.ny; // number of grid points W-E and N-S (e.g., 144 x 73)\n    var date = new Date(header.refTime);\n    date.setHours(date.getHours() + header.forecastTime);\n\n    // Scan mode 0 assumed. Longitude increases from λ0, and latitude decreases from φ0.\n    // http://www.nco.ncep.noaa.gov/pmb/docs/grib2/grib2_table3-4.shtml\n    var grid = [],\n      p = 0;\n    var isContinuous = Math.floor(ni * Δλ) >= 360;\n    for (var j = 0; j < nj; j++) {\n      var row = [];\n      for (var i = 0; i < ni; i++, p++) {\n        row[i] = builder.data(p);\n      }\n      if (isContinuous) {\n        // For wrapped grids, duplicate first column as last column to simplify interpolation logic\n        row.push(row[0]);\n      }\n      grid[j] = row;\n    }\n\n    function interpolate(λ, φ) {\n      var i = floorMod(λ - λ0, 360) / Δλ; // calculate longitude index in wrapped range [0, 360)\n      var j = (φ0 - φ) / Δφ; // calculate latitude index in direction +90 to -90\n\n      var fi = Math.floor(i),\n        ci = fi + 1;\n      var fj = Math.floor(j),\n        cj = fj + 1;\n\n      var row;\n      if ((row = grid[fj])) {\n        var g00 = row[fi];\n        var g10 = row[ci];\n        if (isValue(g00) && isValue(g10) && (row = grid[cj])) {\n          var g01 = row[fi];\n          var g11 = row[ci];\n          if (isValue(g01) && isValue(g11)) {\n            // All four points found, so interpolate the value.\n            return builder.interpolate(i - fi, j - fj, g00, g10, g01, g11);\n          }\n        }\n      }\n      return null;\n    }\n    callback({\n      date: date,\n      interpolate: interpolate,\n    });\n  };\n\n  /**\n   * @returns {Boolean} true if the specified value is not null and not undefined.\n   */\n  var isValue = function (x) {\n    return x !== null && x !== undefined;\n  };\n\n  /**\n   * @returns {Number} returns remainder of floored division, i.e., floor(a / n). Useful for consistent modulo\n   *          of negative numbers. See http://en.wikipedia.org/wiki/Modulo_operation.\n   */\n  var floorMod = function (a, n) {\n    return a - n * Math.floor(a / n);\n  };\n\n  /**\n   * @returns {Number} the value x clamped to the range [low, high].\n   */\n  // var clamp = function(x, range) {\n  //   return Math.max(range[0], Math.min(x, range[1]));\n  // };\n\n  /**\n   * @returns {Boolean} true if agent is probably a mobile device. Don't really care if this is accurate.\n   */\n  // var isMobile = function() {\n  //   return true;\n  //   return /android|blackberry|iemobile|ipad|iphone|ipod|opera mini|webos/i.test(\n  //     navigator.userAgent\n  //   );\n  // };\n\n  /**\n   * Calculate distortion of the wind vector caused by the shape of the projection at point (x, y). The wind\n   * vector is modified in place and returned by this function.\n   */\n  var distort = function (projection, λ, φ, x, y, scale, wind, windy) {\n    var u = wind[0] * scale;\n    var v = wind[1] * scale;\n    var d = distortion(projection, λ, φ, x, y, windy);\n\n    // Scale distortion vectors by u and v, then add.\n    wind[0] = d[0] * u + d[2] * v;\n    wind[1] = d[1] * u + d[3] * v;\n    return wind;\n  };\n\n  var distortion = function (projection, λ, φ, x, y, windy) {\n    var τ = 2 * Math.PI;\n    var H = Math.pow(10, -5.2);\n    var hλ = λ < 0 ? H : -H;\n    var hφ = φ < 0 ? H : -H;\n\n    var pλ = project(φ, λ + hλ, windy);\n    var pφ = project(φ + hφ, λ, windy);\n\n    // Meridian scale factor (see Snyder, equation 4-3), where R = 1. This handles issue where length of 1º λ\n    // changes depending on φ. Without this, there is a pinching effect at the poles.\n    var k = Math.cos((φ / 360) * τ);\n    return [\n      (pλ[0] - x) / hλ / k,\n      (pλ[1] - y) / hλ / k,\n      (pφ[0] - x) / hφ,\n      (pφ[1] - y) / hφ,\n    ];\n  };\n\n  var createField = function (columns, bounds, callback) {\n    /**\n     * @returns {Array} wind vector [u, v, magnitude] at the point (x, y), or [NaN, NaN, null] if wind\n     *          is undefined at that point.\n     */\n    function field(x, y) {\n      var column = columns[Math.round(x)];\n      return (column && column[Math.round(y)]) || NULL_WIND_VECTOR;\n    }\n\n    // Frees the massive \"columns\" array for GC. Without this, the array is leaked (in Chrome) each time a new\n    // field is interpolated because the field closure's context is leaked, for reasons that defy explanation.\n    field.release = function () {\n      columns = [];\n    };\n\n    field.randomize = function (o) {\n      // UNDONE: this method is terrible\n      var x, y;\n      var safetyNet = 0;\n      do {\n        x = Math.round(Math.floor(Math.random() * bounds.width) + bounds.x);\n        y = Math.round(Math.floor(Math.random() * bounds.height) + bounds.y);\n      } while (field(x, y)[2] === null && safetyNet++ < 30);\n      o.x = x;\n      o.y = y;\n      return o;\n    };\n\n    //field.overlay = mask.imageData;\n    //return field;\n    callback(bounds, field);\n  };\n\n  var buildBounds = function (bounds, width, height) {\n    var upperLeft = bounds[0];\n    var lowerRight = bounds[1];\n    var x = Math.round(upperLeft[0]); //Math.max(Math.floor(upperLeft[0], 0), 0);\n    var y = Math.max(Math.floor(upperLeft[1], 0), 0);\n    //var xMax = Math.min(Math.ceil(lowerRight[0], width), width - 1);\n    var yMax = Math.min(Math.ceil(lowerRight[1], height), height - 1);\n    return {\n      x: x,\n      y: y,\n      xMax: width,\n      // xMax: xMax,\n      yMax: yMax,\n      width: width,\n      height: height,\n    };\n  };\n\n  var deg2rad = function (deg) {\n    return (deg / 180) * Math.PI;\n  };\n\n  var rad2deg = function (ang) {\n    return ang / (Math.PI / 180.0);\n  };\n\n  var invert = function (x, y, windy) {\n    var mapLonDelta = windy.east - windy.west;\n    var worldMapRadius =\n      ((windy.width / rad2deg(mapLonDelta)) * 360) / (2 * Math.PI);\n    var mapOffsetY =\n      (worldMapRadius / 2) *\n      Math.log((1 + Math.sin(windy.south)) / (1 - Math.sin(windy.south)));\n    var equatorY = windy.height + mapOffsetY;\n    var a = (equatorY - y) / worldMapRadius;\n\n    var lat = (180 / Math.PI) * (2 * Math.atan(Math.exp(a)) - Math.PI / 2);\n    var lon = rad2deg(windy.west) + (x / windy.width) * rad2deg(mapLonDelta);\n    return [lon, lat];\n  };\n\n  // from new windy\n  // var invert = function (x, y, windy) {\n  //   var latlon = params.map.unproject({ x, y });\n  //   return [latlon.lng, latlon.lat];\n  // };\n\n  var mercY = function (lat) {\n    return Math.log(Math.tan(lat / 2 + Math.PI / 4));\n  };\n\n  var project = function (lat, lon, windy) {\n    // both in radians, use deg2rad if neccessary\n    var ymin = mercY(windy.south);\n    var ymax = mercY(windy.north);\n    var xFactor = windy.width / (windy.east - windy.west);\n    var yFactor = windy.height / (ymax - ymin);\n\n    var y = mercY(deg2rad(lat));\n    var x = (deg2rad(lon) - windy.west) * xFactor;\n    var y2 = (ymax - y) * yFactor; // y points south\n    return [x, y2];\n  };\n\n  var interpolateField = function (grid, bounds, extent, callback) {\n    var projection = {};\n    var velocityScale = VELOCITY_SCALE;\n\n    //var velocityScale = 0.01;\n    //  const interval = setInterval(function() {\n    // // method to be executed;\n    //    velocityScale += 2;\n    //  }, 2000);\n\n    var columns = [];\n    var x = bounds.x;\n\n    function interpolateColumn(x) {\n      var column = [];\n      for (var y = bounds.y; y <= bounds.yMax; y += 2) {\n        var coord = invert(x, y, extent);\n        //var color = TRANSPARENT_BLACK;\n        if (coord) {\n          var λ = coord[0],\n            φ = coord[1];\n          if (isFinite(λ)) {\n            var wind = grid.interpolate(λ, φ);\n            if (wind) {\n              wind = distort(\n                projection,\n                λ,\n                φ,\n                x,\n                y,\n                velocityScale,\n                wind,\n                extent\n              );\n              column[y + 1] = column[y] = wind;\n            }\n          }\n        }\n      }\n      columns[x + 1] = columns[x] = column;\n    }\n\n    (function batchInterpolate() {\n      var start = Date.now();\n      while (x < bounds.width) {\n        interpolateColumn(x);\n        x += 2;\n        if (Date.now() - start > 1000) {\n          //MAX_TASK_TIME) {\n          setTimeout(batchInterpolate, 25);\n          return;\n        }\n      }\n      createField(columns, bounds, callback);\n    })();\n  };\n\n  var animate = function (bounds, field) {\n    function windIntensityColorScale(step, maxWind) {\n      var result = COLOR_RAMP;\n\n      result.indexFor = function (m) {\n        // map wind speed to a style\n        return Math.floor(\n          (Math.min(m, maxWind) / maxWind) * (result.length - 1)\n        );\n      };\n      return result;\n    }\n\n    // same\n    var colorStyles = windIntensityColorScale(\n      INTENSITY_SCALE_STEP,\n      MAX_WIND_INTENSITY\n    );\n    var buckets = colorStyles.map(function () {\n      return [];\n    });\n\n    // SAME\n    var particleCount = Math.round(\n      bounds.width * bounds.height * PARTICLE_MULTIPLIER\n    );\n    // if (isMobile()) {\n    //   particleCount *= PARTICLE_REDUCTION;\n    // }\n\n    // Turned into parameter\n    //var fadeFillStyle = FADE_FILL_STYLE;\n\n    // SAME\n    var particles = [];\n    for (var i = 0; i < particleCount; i++) {\n      particles.push(\n        field.randomize({\n          age: Math.floor(Math.random() * MAX_PARTICLE_AGE) + 0,\n        })\n      );\n    }\n\n    function evolve() {\n      buckets.forEach(function (bucket) {\n        bucket.length = 0;\n      });\n      particles.forEach(function (particle) {\n        if (particle.age > MAX_PARTICLE_AGE) {\n          field.randomize(particle).age = 0;\n        }\n        var x = particle.x;\n        var y = particle.y;\n        var v = field(x, y); // vector at current position\n        var m = v[2];\n        if (m === null) {\n          particle.age = MAX_PARTICLE_AGE; // particle has escaped the grid, never to return...\n        } else {\n          var xt = x + v[0];\n          var yt = y + v[1];\n          if (field(xt, yt)[2] !== null) {\n            // Path from (x,y) to (xt,yt) is visible, so add this particle to the appropriate draw bucket.\n            particle.xt = xt;\n            particle.yt = yt;\n            buckets[colorStyles.indexFor(m)].push(particle);\n          } else {\n            // Particle isn't visible, but it still moves through the field.\n            particle.x = xt;\n            particle.y = yt;\n          }\n        }\n        particle.age += 1;\n      });\n    }\n\n    // GLOBAL ALPHA MOVED TO PARAMETER\n    var g = params.canvas.getContext(\"2d\", {\n      powerPreference: \"high-performance\",\n      // desynchronized: true,\n    });\n\n    g.lineWidth = PARTICLE_LINE_WIDTH;\n    g.fillStyle = FADE_FILL_STYLE;\n    g.globalAlpha = COLOR_ALPHA;\n\n    function draw() {\n      var prev = g.globalCompositeOperation;\n      g.globalCompositeOperation = COMPOSITE_OPERATION;\n      g.fillRect(bounds.x, bounds.y, bounds.width, bounds.height);\n      g.globalCompositeOperation = prev;\n      g.globalAlpha = COLOR_ALPHA;\n\n      // Draw new particle trails.\n      buckets.forEach(function (bucket, i) {\n        if (bucket.length > 0) {\n          g.beginPath();\n          g.strokeStyle = colorStyles[i];\n          bucket.forEach(function (particle) {\n            g.moveTo(particle.x, particle.y);\n            g.lineTo(particle.xt, particle.yt);\n            particle.x = particle.xt;\n            particle.y = particle.yt;\n          });\n          g.stroke();\n        }\n      });\n    }\n\n    (function frame() {\n      try {\n        windy.timer = setTimeout(function () {\n          requestAnimationFrame(frame);\n          evolve();\n          draw();\n        }, 1000 / FRAME_RATE);\n      } catch (e) {\n        console.error(e);\n      }\n    })();\n  };\n\n  // THIS HAS finalParams PARAMETER TO OVERRIDE LINE WIDTH GLOBALLY\n  var start = function (bounds, width, height, extent, activeFlowConfig) {\n    if (activeFlowConfig) {\n      PARTICLE_LINE_WIDTH = activeFlowConfig.particleLineWidth;\n      COLOR_RAMP = [activeFlowConfig.COLOR_RAMP];\n      COLOR_ALPHA = [activeFlowConfig.COLOR_ALPHA];\n      VELOCITY_SCALE = activeFlowConfig.VELOCITY_SCALE; // scale for wind velocity (completely arbitrary--this value looks nice)\n      INTENSITY_SCALE_STEP = activeFlowConfig.INTENSITY_SCALE_STEP; // step size of particle intensity color scale\n      MAX_WIND_INTENSITY = activeFlowConfig.MAX_WIND_INTENSITY; // wind velocity at which particle intensity is maximum (m/s)\n      MAX_PARTICLE_AGE = activeFlowConfig.MAX_PARTICLE_AGE; // higher = flow things out and gets wirey. 50\n      PARTICLE_LINE_WIDTH = activeFlowConfig.PARTICLE_LINE_WIDTH; // line width of a drawn particle 1.5\n      PARTICLE_MULTIPLIER = activeFlowConfig.PARTICLE_MULTIPLIER; // particle count scalar (completely arbitrary--this values looks nice) 500\n      FRAME_RATE = activeFlowConfig.FRAME_RATE; // desired milliseconds per frame\n      FADE_FILL_STYLE = activeFlowConfig.FADE_FILL_STYLE;\n      PARTICLE_MULTIPLIER = activeFlowConfig.PARTICLE_MULTIPLIER / 100;\n      COMPOSITE_OPERATION = activeFlowConfig.COMPOSITE_OPERATION;\n    }\n\n    //console.log('AFC', activeFlowConfig);\n    console.log(\"width: \" + width + \" height: \" + height);\n    // width = 1185;\n    // height = 501;\n    // width = 1078;\n    // height = 456;\n    var mapBounds = {\n      south: deg2rad(extent[0][1]),\n      north: deg2rad(extent[1][1]),\n      east: deg2rad(extent[1][0]),\n      west: deg2rad(extent[0][0]),\n      width: width,\n      height: height,\n    };\n\n    stop();\n\n    // build grid\n    buildGrid(params.data, function (grid) {\n      // interpolateField\n      interpolateField(\n        grid,\n        buildBounds(bounds, width, height),\n        mapBounds,\n        function (bounds, field) {\n          // animate the canvas with random points\n          windy.field = field;\n          animate(bounds, field);\n        }\n      );\n    });\n\n    // if (params.canvas) {\n    //   params.canvas.style.display = \"initial\";\n    // }\n  };\n\n  var stop = function () {\n    if (windy.field) windy.field.release();\n    if (windy.timer) clearTimeout(windy.timer);\n    // const context = params.canvas.getContext(\"2d\");\n    // context.clearRect(0, 0, 3000, 3000);\n  };\n\n  var windy = {\n    params: params,\n    start: start,\n    stop: stop,\n  };\n\n  return windy;\n}\n\n//shim layer with setTimeout fallback\nwindow.requestAnimationFrame = (function () {\n  return (\n    window.requestAnimationFrame ||\n    window.webkitRequestAnimationFrame ||\n    window.mozRequestAnimationFrame ||\n    window.oRequestAnimationFrame ||\n    window.msRequestAnimationFrame ||\n    function (callback) {\n      window.setTimeout(callback, 1000 / 20);\n    }\n  );\n})();\n","<template>\n  <div\n    id=\"app\"\n    class=\"nocursor\"\n    v-shortkey=\"{\n      caption: ['ctrl', 'c'],\n      dat: ['ctrl', 'u'],\n    }\"\n    @shortkey=\"shortcuts\"\n  >\n    <keep-alive>\n      <div v-if=\"showDat\">\n        <dat-gui\n          closeText=\"Close controls\"\n          openText=\"Open controls\"\n          closePosition=\"bottom\"\n          class=\"dat-gui-ui\"\n        >\n          <!-- <dat-folder label=\"Keyboard Shortcuts\">\n            <p class=\"dat-meta\">\n              cntrl-c to toggle caption.<br />\n              cntrl-u to toggle parameters<br />\n            </p>\n          </dat-folder> -->\n\n          <dat-folder label=\"Map Properties\">\n            <!-- <dat-boolean v-model=\"mapCountryLabels\" label=\"Country Labels\" />\n            <dat-boolean v-model=\"mapCityLabels\" label=\"City Labels\" /> -->\n            <dat-number\n              v-model=\"mapCountryLineWidth\"\n              :min=\"0\"\n              :max=\"4\"\n              :step=\"0.1\"\n              label=\"Country Line Width\"\n            />\n\n            <dat-number\n              v-model=\"mapCountryLineOpacity\"\n              :min=\"0\"\n              :max=\"1\"\n              :step=\"0.01\"\n              label=\"Country Line Opacity\"\n            />\n\n            <!-- <dat-number\n              v-model=\"mapRoadsOpacity\"\n              :min=\"0\"\n              :max=\"1\"\n              :step=\"0.01\"\n              label=\"Road Opacity\"\n            /> -->\n\n            <dat-color v-model=\"mapLandColor\" label=\"Land Color\" />\n            <!-- <dat-number\n              v-model=\"mapLandOpacity\"\n              :min=\"0\"\n              :max=\"1\"\n              :step=\"0.01\"\n              label=\"Land Opacity\"\n            /> -->\n            <!-- <dat-color v-model=\"mapWaterColor\" label=\"Ocean Color\" />\n            <dat-number\n              v-model=\"mapWaterOpacity\"\n              :min=\"0\"\n              :max=\"1\"\n              :step=\"0.005\"\n              label=\"Ocean Opacity\"\n            /> -->\n\n            <!-- <dat-color v-model=\"mapLakeColor\" label=\"Lake Color\" />\n            <dat-number\n              v-model=\"mapLakeOpacity\"\n              :min=\"0\"\n              :max=\"1\"\n              :step=\"0.005\"\n              label=\"Lake Opacity\"\n            /> -->\n            <dat-number\n              v-model=\"mapSatelliteOpacity\"\n              :min=\"0\"\n              :max=\"1\"\n              :step=\"0.005\"\n              label=\"Satellite Opacity\"\n            />\n            <dat-select\n              v-model=\"compositeSelected\"\n              :items=\"compositeOptions\"\n              label=\"Composite Operation\"\n            />\n          </dat-folder>\n\n          <dat-folder label=\"Birds\">\n            <dat-boolean v-model=\"birdsOn\" label=\"Display Layer\" />\n            <dat-color v-model=\"birdsColor\" label=\"Birds Color\" />\n\n            <dat-number\n              v-model=\"birdsActive.VELOCITY_SCALE\"\n              :min=\"0\"\n              :max=\"1\"\n              :step=\"0.01\"\n              label=\"Velocity Scale\"\n            />\n            <!-- <dat-number\n            v-model=\"birdsActive.INTENSITY_SCALE_STEP\"\n            :min=\"0\"\n            :max=\"100\"\n            :step=\"5\"\n            label=\"Intensity Scale Step\"\n          />\n          <dat-number\n            v-model=\"birdsActive.MAX_WIND_INTENSITY\"\n            :min=\"0\"\n            :max=\"100\"\n            :step=\"5\"\n            label=\"Max Wind Intensity\"\n          /> -->\n            <dat-number\n              v-model=\"birdsActive.MAX_PARTICLE_AGE\"\n              :min=\"0\"\n              :max=\"200\"\n              :step=\"1\"\n              label=\"Max Particle Age\"\n            />\n            <!-- <dat-number\n              v-model=\"birdsActive.PARTICLE_LINE_WIDTH\"\n              :min=\"0\"\n              :max=\"6\"\n              :step=\"0.1\"\n              label=\"Particle Line Width\"\n            /> -->\n            <dat-number\n              v-model=\"birdsActive.PARTICLE_MULTIPLIER\"\n              :min=\"0\"\n              :max=\"2\"\n              :step=\"0.05\"\n              label=\"Particle Multiplier\"\n            />\n            <dat-number\n              v-model=\"birdsActive.FADE_TRANSPARENCY\"\n              :min=\"0\"\n              :max=\"1\"\n              :step=\"0.01\"\n              label=\"Fade Transparency\"\n            />\n            <dat-number\n              v-model=\"birdsActive.COLOR_ALPHA\"\n              :min=\"0\"\n              :max=\"1\"\n              :step=\"0.01\"\n              label=\"Color Alpha\"\n            />\n            <!-- <dat-number\n            v-model=\"birdsActive.FRAME_RATE\"\n            :min=\"0\"\n            :max=\"60\"\n            :step=\"1\"\n            label=\"Frame Rate\"\n          /> -->\n          </dat-folder>\n\n          <dat-folder label=\"Mammals\">\n            <dat-boolean v-model=\"mammalsOn\" label=\"Display Layer\" />\n            <dat-color v-model=\"mammalsColor\" label=\"Mammals Color\" />\n\n            <dat-number\n              v-model=\"mammalsActive.VELOCITY_SCALE\"\n              :min=\"0\"\n              :max=\"1\"\n              :step=\"0.01\"\n              label=\"Velocity Scale\"\n            />\n            <!-- <dat-number\n            v-model=\"mammalsActive.INTENSITY_SCALE_STEP\"\n            :min=\"0\"\n            :max=\"100\"\n            :step=\"5\"\n            label=\"Intensity Scale Step\"\n          />\n          <dat-number\n            v-model=\"mammalsActive.MAX_WIND_INTENSITY\"\n            :min=\"0\"\n            :max=\"100\"\n            :step=\"5\"\n            label=\"Max Wind Intensity\"\n          /> -->\n            <dat-number\n              v-model=\"mammalsActive.MAX_PARTICLE_AGE\"\n              :min=\"0\"\n              :max=\"200\"\n              :step=\"1\"\n              label=\"Max Particle Age\"\n            />\n            <!-- <dat-number\n              v-model=\"mammalsActive.PARTICLE_LINE_WIDTH\"\n              :min=\"0\"\n              :max=\"6\"\n              :step=\"0.1\"\n              label=\"Particle Line Width\"\n            /> -->\n            <dat-number\n              v-model=\"mammalsActive.PARTICLE_MULTIPLIER\"\n              :min=\"0\"\n              :max=\"2\"\n              :step=\"0.05\"\n              label=\"Particle Multiplier\"\n            />\n            <dat-number\n              v-model=\"mammalsActive.FADE_TRANSPARENCY\"\n              :min=\"0\"\n              :max=\"1\"\n              :step=\"0.01\"\n              label=\"Fade Transparency\"\n            />\n            <dat-number\n              v-model=\"mammalsActive.COLOR_ALPHA\"\n              :min=\"0\"\n              :max=\"1\"\n              :step=\"0.01\"\n              label=\"Color Alpha\"\n            />\n            <!-- <dat-number\n            v-model=\"mammalsActive.FRAME_RATE\"\n            :min=\"0\"\n            :max=\"60\"\n            :step=\"1\"\n            label=\"Frame Rate\"\n          /> -->\n          </dat-folder>\n\n          <dat-folder label=\"Amphibians\">\n            <dat-boolean v-model=\"amphibsOn\" label=\"Display Layer\" />\n            <dat-color v-model=\"amphibsColor\" label=\"Amphibs Color\" />\n\n            <dat-number\n              v-model=\"amphibsActive.VELOCITY_SCALE\"\n              :min=\"0\"\n              :max=\"1\"\n              :step=\"0.01\"\n              label=\"Velocity Scale\"\n            />\n            <!-- <dat-number\n            v-model=\"amphibsActive.INTENSITY_SCALE_STEP\"\n            :min=\"0\"\n            :max=\"100\"\n            :step=\"5\"\n            label=\"Intensity Scale Step\"\n          />\n          <dat-number\n            v-model=\"amphibsActive.MAX_WIND_INTENSITY\"\n            :min=\"0\"\n            :max=\"100\"\n            :step=\"5\"\n            label=\"Max Wind Intensity\"\n          /> -->\n            <dat-number\n              v-model=\"amphibsActive.MAX_PARTICLE_AGE\"\n              :min=\"0\"\n              :max=\"200\"\n              :step=\"1\"\n              label=\"Max Particle Age\"\n            />\n            <!-- <dat-number\n              v-model=\"amphibsActive.PARTICLE_LINE_WIDTH\"\n              :min=\"0\"\n              :max=\"6\"\n              :step=\"0.1\"\n              label=\"Particle Line Width\"\n            /> -->\n            <dat-number\n              v-model=\"amphibsActive.PARTICLE_MULTIPLIER\"\n              :min=\"0\"\n              :max=\"2\"\n              :step=\"0.05\"\n              label=\"Particle Multiplier\"\n            />\n            <dat-number\n              v-model=\"amphibsActive.FADE_TRANSPARENCY\"\n              :min=\"0\"\n              :max=\"1\"\n              :step=\"0.01\"\n              label=\"Fade Transparency\"\n            />\n            <dat-number\n              v-model=\"amphibsActive.COLOR_ALPHA\"\n              :min=\"0\"\n              :max=\"1\"\n              :step=\"0.01\"\n              label=\"Color Alpha\"\n            />\n            <!-- <dat-number\n            v-model=\"amphibsActive.FRAME_RATE\"\n            :min=\"0\"\n            :max=\"60\"\n            :step=\"1\"\n            label=\"Frame Rate\"\n          /> -->\n          </dat-folder>\n        </dat-gui>\n      </div>\n    </keep-alive>\n\n    <!-- \n#fcfa47\n#47d4fc\n#fc47dc\n    -->\n\n    <div id=\"viz-meta\" v-if=\"showCaption\">\n      <h1>Migrations <br class=\"title-break\" />In Motion</h1>\n      <div id=\"legend-inline\">\n        <div class=\"legend-item-inline\" v-if=\"birdsOn\">\n          <div\n            class=\"legend-color\"\n            :style=\"{ 'background-color': birdsColor }\"\n          ></div>\n          <div class=\"legend-text\">Birds</div>\n        </div>\n        <div class=\"legend-item-inline\" v-if=\"mammalsOn\">\n          <div\n            class=\"legend-color\"\n            :style=\"{ 'background-color': mammalsColor }\"\n          ></div>\n          <div class=\"legend-text\">Mammals</div>\n        </div>\n        <div class=\"legend-item-inline\" v-if=\"amphibsOn\">\n          <div\n            class=\"legend-color\"\n            :style=\"{ 'background-color': amphibsColor }\"\n          ></div>\n          <div class=\"legend-text\">Amphibians</div>\n        </div>\n      </div>\n      <!-- <div v-html=\"activeContent\"></div> -->\n      <!-- <div v-for=\"c in content\" :key=\"c.step\">\n        <div v-html=\"c.text\"></div>\n      </div> -->\n      <div>\n        <!-- Overview -->\n        <p>\n          As climate change alters habitats and disrupts ecosystems, where will\n          animals move to survive? And will human development prevent them from\n          getting there?\n        </p>\n        <p>\n          This map shows the average direction mammals, birds, and amphibians\n          need to move to track hospitable climates as they shift across the\n          landscape. &darr;\n        </p>\n\n        <!-- How -->\n\n        <h2>How?</h2>\n        <p>\n          Researchers from University of Washington and The Nature Conservancy\n          modeled potential habitat for 2954 species using climate change\n          projections and the climatic needs of each species.\n        </p>\n        <p>\n          Using flow models from\n          <a href=\"https://www.circuitscape.org/\" target=\"_blank\"\n            >electronic circuit theory</a\n          >, they plotted movement routes for each species, connecting current\n          habitats with their projected locations under climate change.\n        </p>\n\n        <!-- What can we do -->\n        <h2>What Can We Do?</h2>\n        <p>\n          There are a number of ways that conservationists and land managers can\n          <a\n            href=\"https://blog.nature.org/science/2016/06/29/species-on-the-move-mapping-barriers-for-wildlife-in-a-warming-world/?utm_source=cgs&utm_medium=alsoin&utm_campaign=migrations\"\n            target=\"_blank\"\n            >re-build or maintain connectivity</a\n          >\n          to improve species’ ability to adapt to warmer temperatures. Removing\n          fencing, adding wildlife overpasses (or underpasses) to major\n          roadways, and better routing of infrastructure like pipelines and\n          powerlines can all help re-connect areas fragmented by human\n          development.\n        </p>\n\n        <!-- So -->\n        <h2>So...</h2>\n        <p>\n          <strong\n            >Q: Does this mean 3000 species will move through my backyard\n            because of climate change?</strong\n          >\n        </p>\n        <p>\n          <strong>A:</strong> No, the researchers used coarse 50 km data, which\n          is good for understanding the big picture view, but not good for\n          understanding local patterns.\n        </p>\n\n        <!-- Credits -->\n        <h2>Credits</h2>\n        <p>\n          This map was created by\n          <a href=\"mailto:dmajka@tnc.org\" target=\"_blank\">Dan Majka</a>, who\n          works for The Nature Conservancy's North America Region science team.\n        </p>\n\n        <p>\n          This work would have not been possible without the\n          <a\n            href=\"https://blog.nature.org/science/2018/04/26/innovation-for-conservation-brad-mcrae-1966-2017/\"\n            target=\"_blank\"\n            >pioneering connectivity science of Brad McRae (1966-2017)</a\n          >.\n        </p>\n\n        <h2>Bonus Fun!</h2>\n        <p>\n          The visualization uses code adapted from\n          <a href=\"https://github.com/FreshyLabs/windy\">windy-js</a>, which\n          adapated code from the\n          <a href=\"https://github.com/cambecc/earth\"\n            >earth 3D wind visualization</a\n          >, which was inspired by\n          <a href=\"http://hint.fm/wind/\">hint.fm/wind</a>, which is based on the\n          concept of\n          <a href=\"https://natureofcode.com/autonomous-agents/#flow-fields\"\n            >flow fields</a\n          >. To experiment with some of the underlying parameters, turn on\n          controls:\n        </p>\n\n        <div id=\"switch-container\">\n          <label class=\"switch\">\n            <input type=\"checkbox\" @click=\"toggleDat\" />\n            <span class=\"slider round\"></span>\n          </label>\n          <span class=\"switch-label\">Visualization Controls</span>\n        </div>\n\n        <!-- References -->\n        <h2>References</h2>\n        <p>\n          Lawler, JJ, et al. 2013.\n          <a\n            href=\"https://citeseerx.ist.psu.edu/document?repid=rep1&type=pdf&doi=68af63ecff902864920e93168c7d474392f4520a\"\n            target=\"_blank\"\n            >Projected climate-driven faunal movement routes</a\n          >. Ecology Letters 16(8): 1014-1022.\n        </p>\n        <p>\n          McGuire, JL, et al. 2016.\n          <a\n            href=\"http://www.pnas.org/content/113/26/7195.abstract\"\n            target=\"_blank\"\n            >Achieving climate connectivity in a fragmented landscape</a\n          >. Proceedings of the National Academy of Sciences: 113: 7195-7200.\n        </p>\n      </div>\n\n      <img\n        src=\"tnc-logo-light.svg\"\n        alt=\"The Nature Conservancy\"\n        class=\"tnc-logo\"\n      />\n    </div>\n\n    <div\n      style=\"display: initial\"\n      class=\"wind-map-container nocursor\"\n      id=\"windContainerbirds\"\n      v-bind:class=\"{ hide: !birdsOn }\"\n    ></div>\n\n    <div\n      style=\"display: initial\"\n      class=\"wind-map-container nocursor\"\n      id=\"windContainermammals\"\n      v-bind:class=\"{ hide: !mammalsOn }\"\n    ></div>\n\n    <div\n      style=\"display: initial\"\n      class=\"wind-map-container nocursor\"\n      id=\"windContaineramphibs\"\n      v-bind:class=\"{ hide: !amphibsOn }\"\n    ></div>\n\n    <div class=\"mapbox-map-container nocursor\">\n      <div id=\"map\" class=\"nocursor\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport mapboxgl from \"mapbox-gl\";\nimport \"mapbox-gl/dist/mapbox-gl.css\";\nimport { Windy } from \"@/modules/windy.js\";\n\n// import './windy.js';\n\nexport default {\n  name: \"App\",\n  data: function () {\n    return {\n      showCaption: true,\n      showDat: false,\n      mapSatelliteOpacity: 0,\n      map: {},\n      mapLandColor: \"#000000\",\n      mapLandOpacity: 1,\n      mapWaterColor: \"#ffffff\",\n      mapWaterOpacity: 1,\n      mapLakeColor: \"#a3bbc7\",\n      mapLakeOpacity: 0,\n      mapCountryLineColor: \"#ffffff\",\n      mapCountryLineWidth: 1,\n      mapCountryLineOpacity: 1,\n      mapCountryLabels: true,\n      mapCityLabels: true,\n      mapRoadsOpacity: 0,\n      activeScenario: \"scene1\",\n      amphibsOn: true,\n      amphibsColor: \"#fcfa47\",\n      amphibsActive: {},\n      amphibsActive2: {},\n      birdsOn: true,\n      birdsColor: \"#47d4fc\",\n      birdsActive: {},\n      birdsActive2: {},\n      mammalsOn: true,\n      mammalsColor: \"#fc47dc\",\n      mammalsActive: {},\n      mammalsActive2: {},\n      titleFontSize: 75,\n      zoomWidth: {\n        default: 1.5,\n        z2: 1.8,\n        z3: 1.5,\n        z4: 1.5,\n        z5: 1,\n        z6: 1,\n        z7: 0.8,\n      },\n      compositeOptions: [\n        // { name: \"source-over\", value: \"source-over\" },\n        // { name: \"source-atop\", value: \"source-atop\" },\n        // { name: \"source-in\", value: \"source-in\" },\n        // { name: \"source-out\", value: \"source-out\" },\n        { name: \"destination-over\", value: \"destination-over\" },\n        { name: \"destination-atop\", value: \"destination-atop\" },\n        { name: \"destination-in\", value: \"destination-in\" },\n        { name: \"destination-out\", value: \"destination-out\" },\n        // { name: \"lighter\", value: \"lighter\" },\n        // { name: \"copy\", value: \"copy\" },\n        // { name: \"xor\", value: \"xor\" },\n        { name: \"multiply\", value: \"multiply\" },\n        // { name: \"screen\", value: \"screen\" },\n        // { name: \"overlay\", value: \"overlay\" },\n        // { name: \"darken\", value: \"darken\" },\n        // { name: \"lighten\", value: \"lighten\" },\n        // { name: \"color-dodge\", value: \"color-dodge\" },\n        // { name: \"color-burn\", value: \"color-burn\" },\n        // { name: \"hard-light\", value: \"hard-light\" },\n        // { name: \"soft-light\", value: \"soft-light\" },\n        // { name: \"difference\", value: \"difference\" },\n        // { name: \"exclusion\", value: \"exclusion\" },\n        { name: \"hue\", value: \"hue\" },\n        // { name: \"saturation\", value: \"saturation\" },\n        // { name: \"color\", value: \"color\" },\n        // { name: \"luminosity\", value: \"luminosity\" },\n      ],\n      compositeSelected: \"destination-in\",\n      default: {\n        zoomWidth: {\n          default: 0.9,\n          z2: 0.8,\n          z3: 0.9,\n          z4: 1,\n          z5: 0.4,\n          z6: 0.05,\n          z7: 0.05,\n        },\n      },\n      config: {\n        scene1: {\n          amphibs: {\n            VELOCITY_SCALE: 0.03, // scale for wind velocity (completely arbitrary--this value looks nice)\n            INTENSITY_SCALE_STEP: 10, // step size of particle intensity color scale\n            MAX_WIND_INTENSITY: 40, // wind velocity at which particle intensity is maximum (m/s)\n            MAX_PARTICLE_AGE: 50, // higher = flow things out and gets wirey. 50\n            PARTICLE_LINE_WIDTH: 2.5, // line width of a drawn particle 1.5\n            PARTICLE_MULTIPLIER: 0.2, // particle count scalar (completely arbitrary--this values looks nice) 500\n            FRAME_RATE: 60, // desired milliseconds per frame\n            NULL_WIND_VECTOR: [NaN, NaN, null], // singleton for no wind in the form: [u, v, magnitude]\n            FADE_TRANSPARENCY: 0.7,\n            COLOR_RAMP: \"#fcfa47\", // blue\n            COLOR_ALPHA: 0.9,\n            COMPOSITE_OPERATION: \"destination-in\",\n            spData: \"data/perlin8_5_2_direction.json\",\n            spName: \"amphibs\",\n            sceneName: \"perlin land + water\",\n          },\n          birds: {\n            VELOCITY_SCALE: 0.03, // scale for wind velocity (completely arbitrary--this value looks nice)\n            INTENSITY_SCALE_STEP: 10, // step size of particle intensity color scale\n            MAX_WIND_INTENSITY: 40, // wind velocity at which particle intensity is maximum (m/s)\n            MAX_PARTICLE_AGE: 25, // higher = flow things out and gets wirey. 50\n            PARTICLE_LINE_WIDTH: 2.5, // line width of a drawn particle 1.5\n            PARTICLE_MULTIPLIER: 0.2, // particle count scalar (completely arbitrary--this values looks nice) 500\n            FRAME_RATE: 60, // desired milliseconds per frame\n            NULL_WIND_VECTOR: [NaN, NaN, null], // singleton for no wind in the form: [u, v, magnitude]\n            FADE_TRANSPARENCY: 0.7,\n            COLOR_RAMP: \"#47d4fc\", // blue\n            COLOR_ALPHA: 0.9,\n            COMPOSITE_OPERATION: \"destination-in\",\n            spData: \"data/perlin4_4_1_direction.json\",\n            spName: \"birds\",\n          },\n          mammals: {\n            VELOCITY_SCALE: 0.03, // scale for wind velocity (completely arbitrary--this value looks nice)\n            INTENSITY_SCALE_STEP: 10, // step size of particle intensity color scale\n            MAX_WIND_INTENSITY: 40, // wind velocity at which particle intensity is maximum (m/s)\n            MAX_PARTICLE_AGE: 25, // higher = flow things out and gets wirey. 50\n            PARTICLE_LINE_WIDTH: 2.5, // line width of a drawn particle 1.5\n            PARTICLE_MULTIPLIER: 0.2, // particle count scalar (completely arbitrary--this values looks nice) 500\n            FRAME_RATE: 60, // desired milliseconds per frame\n            NULL_WIND_VECTOR: [NaN, NaN, null], // singleton for no wind in the form: [u, v, magnitude]\n            FADE_TRANSPARENCY: 0.7,\n            COLOR_RAMP: \"#fc47dc\", // blue\n            COLOR_ALPHA: 0.9,\n            COMPOSITE_OPERATION: \"destination-in\",\n            spData: \"data/perlin16_3_4_direction.json\",\n            spName: \"mammals\",\n          },\n        },\n        scene2: {\n          amphibs: {\n            VELOCITY_SCALE: 0.03, // scale for wind velocity (completely arbitrary--this value looks nice)\n            INTENSITY_SCALE_STEP: 10, // step size of particle intensity color scale\n            MAX_WIND_INTENSITY: 40, // wind velocity at which particle intensity is maximum (m/s)\n            MAX_PARTICLE_AGE: 25, // higher = flow things out and gets wirey. 50\n            PARTICLE_LINE_WIDTH: 2.5, // line width of a drawn particle 1.5\n            PARTICLE_MULTIPLIER: 0.3, // particle count scalar (completely arbitrary--this values looks nice) 500\n            FRAME_RATE: 60, // desired milliseconds per frame\n            NULL_WIND_VECTOR: [NaN, NaN, null], // singleton for no wind in the form: [u, v, magnitude]\n            FADE_TRANSPARENCY: 0.7,\n            COLOR_RAMP: \"#fcfa47\", // blue\n            COLOR_ALPHA: 0.9,\n            spData: \"data/perlin_8_west.json\",\n            spName: \"amphibs\",\n          },\n          birds: {\n            VELOCITY_SCALE: 0.03, // scale for wind velocity (completely arbitrary--this value looks nice)\n            INTENSITY_SCALE_STEP: 10, // step size of particle intensity color scale\n            MAX_WIND_INTENSITY: 40, // wind velocity at which particle intensity is maximum (m/s)\n            MAX_PARTICLE_AGE: 25, // higher = flow things out and gets wirey. 50\n            PARTICLE_LINE_WIDTH: 2.5, // line width of a drawn particle 1.5\n            PARTICLE_MULTIPLIER: 0.3, // particle count scalar (completely arbitrary--this values looks nice) 500\n            FRAME_RATE: 60, // desired milliseconds per frame\n            NULL_WIND_VECTOR: [NaN, NaN, null], // singleton for no wind in the form: [u, v, magnitude]\n            FADE_TRANSPARENCY: 0.7,\n            COLOR_RAMP: \"#47d4fc\", // blue\n            COLOR_ALPHA: 0.9,\n            spData: \"data/perlin_4_west.json\",\n            spName: \"birds\",\n          },\n          mammals: {\n            VELOCITY_SCALE: 0.03, // scale for wind velocity (completely arbitrary--this value looks nice)\n            INTENSITY_SCALE_STEP: 10, // step size of particle intensity color scale\n            MAX_WIND_INTENSITY: 40, // wind velocity at which particle intensity is maximum (m/s)\n            MAX_PARTICLE_AGE: 25, // higher = flow things out and gets wirey. 50\n            PARTICLE_LINE_WIDTH: 2.5, // line width of a drawn particle 1.5\n            PARTICLE_MULTIPLIER: 0.3, // particle count scalar (completely arbitrary--this values looks nice) 500\n            FRAME_RATE: 60, // desired milliseconds per frame\n            NULL_WIND_VECTOR: [NaN, NaN, null], // singleton for no wind in the form: [u, v, magnitude]\n            FADE_TRANSPARENCY: 0.7,\n            COLOR_RAMP: \"#fc47dc\", // blue\n            COLOR_ALPHA: 0.9,\n            spData: \"data/perlin_16_west.json\",\n            spName: \"mammals\",\n          },\n        },\n        scene4: {\n          amphibs: {\n            VELOCITY_SCALE: 0.03, // scale for wind velocity (completely arbitrary--this value looks nice)\n            INTENSITY_SCALE_STEP: 10, // step size of particle intensity color scale\n            MAX_WIND_INTENSITY: 40, // wind velocity at which particle intensity is maximum (m/s)\n            MAX_PARTICLE_AGE: 25, // higher = flow things out and gets wirey. 50\n            PARTICLE_LINE_WIDTH: 2.5, // line width of a drawn particle 1.5\n            PARTICLE_MULTIPLIER: 0.3, // particle count scalar (completely arbitrary--this values looks nice) 500\n            FRAME_RATE: 60, // desired milliseconds per frame\n            NULL_WIND_VECTOR: [NaN, NaN, null], // singleton for no wind in the form: [u, v, magnitude]\n            FADE_TRANSPARENCY: 0.7,\n            COLOR_RAMP: \"#fcfa47\", // blue\n            COLOR_ALPHA: 0.9,\n            // spData: 'data/perlin_8_west.json',\n            spData: \"data/perlin_8_5_rd_direction.json\",\n            spName: \"amphibs\",\n            sceneName: \"perlin land only\",\n          },\n          birds: {\n            VELOCITY_SCALE: 0.03, // scale for wind velocity (completely arbitrary--this value looks nice)\n            INTENSITY_SCALE_STEP: 10, // step size of particle intensity color scale\n            MAX_WIND_INTENSITY: 40, // wind velocity at which particle intensity is maximum (m/s)\n            MAX_PARTICLE_AGE: 25, // higher = flow things out and gets wirey. 50\n            PARTICLE_LINE_WIDTH: 2.5, // line width of a drawn particle 1.5\n            PARTICLE_MULTIPLIER: 0.3, // particle count scalar (completely arbitrary--this values looks nice) 500\n            FRAME_RATE: 60, // desired milliseconds per frame\n            NULL_WIND_VECTOR: [NaN, NaN, null], // singleton for no wind in the form: [u, v, magnitude]\n            FADE_TRANSPARENCY: 0.7,\n            COLOR_RAMP: \"#47d4fc\", // blue\n            COLOR_ALPHA: 0.9,\n            // spData: 'data/perlin_4_west.json',\n            spData: \"data/perlin4_4_1_r_direction.json\",\n            spName: \"birds\",\n          },\n          mammals: {\n            VELOCITY_SCALE: 0.03, // scale for wind velocity (completely arbitrary--this value looks nice)\n            INTENSITY_SCALE_STEP: 10, // step size of particle intensity color scale\n            MAX_WIND_INTENSITY: 40, // wind velocity at which particle intensity is maximum (m/s)\n            MAX_PARTICLE_AGE: 25, // higher = flow things out and gets wirey. 50\n            PARTICLE_LINE_WIDTH: 2.5, // line width of a drawn particle 1.5\n            PARTICLE_MULTIPLIER: 0.3, // particle count scalar (completely arbitrary--this values looks nice) 500\n            FRAME_RATE: 60, // desired milliseconds per frame\n            NULL_WIND_VECTOR: [NaN, NaN, null], // singleton for no wind in the form: [u, v, magnitude]\n            FADE_TRANSPARENCY: 0.7,\n            COLOR_RAMP: \"#fc47dc\", // blue\n            COLOR_ALPHA: 0.9,\n            // spData: 'data/perlin_16_west.json',\n            spData: \"data/perlin16_3_4_m_r_direction.json\",\n            spName: \"mammals\",\n          },\n        },\n        scene5: {\n          amphibs: {\n            VELOCITY_SCALE: 0.03, // scale for wind velocity (completely arbitrary--this value looks nice)\n            INTENSITY_SCALE_STEP: 10, // step size of particle intensity color scale\n            MAX_WIND_INTENSITY: 40, // wind velocity at which particle intensity is maximum (m/s)\n            MAX_PARTICLE_AGE: 100, // higher = flow things out and gets wirey. 50\n            PARTICLE_LINE_WIDTH: 1.5, // line width of a drawn particle 1.5\n            PARTICLE_MULTIPLIER: 0.3, // particle count scalar (completely arbitrary--this values looks nice) 500\n            FRAME_RATE: 60, // desired milliseconds per frame\n            NULL_WIND_VECTOR: [NaN, NaN, null], // singleton for no wind in the form: [u, v, magnitude]\n            FADE_TRANSPARENCY: 0.98,\n            COLOR_RAMP: \"#fcfa47\", // blue\n            COLOR_ALPHA: 0.95,\n            spData: \"data/amphibs_mag.json\",\n            spName: \"amphibs\",\n          },\n          birds: {\n            VELOCITY_SCALE: 0.15, // scale for wind velocity (completely arbitrary--this value looks nice)\n            INTENSITY_SCALE_STEP: 10, // step size of particle intensity color scale\n            MAX_WIND_INTENSITY: 40, // wind velocity at which particle intensity is maximum (m/s)\n            MAX_PARTICLE_AGE: 100, // higher = flow things out and gets wirey. 50\n            PARTICLE_LINE_WIDTH: 1.5, // line width of a drawn particle 1.5\n            PARTICLE_MULTIPLIER: 0.3, // particle count scalar (completely arbitrary--this values looks nice) 500\n            FRAME_RATE: 60, // desired milliseconds per frame\n            NULL_WIND_VECTOR: [NaN, NaN, null], // singleton for no wind in the form: [u, v, magnitude]\n            FADE_TRANSPARENCY: 0.98,\n            COLOR_RAMP: \"#47d4fc\", // blue\n            COLOR_ALPHA: 0.95,\n            spData: \"data/birds_direction.json\",\n            spName: \"birds\",\n          },\n          mammals: {\n            VELOCITY_SCALE: 0.15, // scale for wind velocity (completely arbitrary--this value looks nice)\n            INTENSITY_SCALE_STEP: 10, // step size of particle intensity color scale\n            MAX_WIND_INTENSITY: 40, // wind velocity at which particle intensity is maximum (m/s)\n            MAX_PARTICLE_AGE: 100, // higher = flow things out and gets wirey. 50\n            PARTICLE_LINE_WIDTH: 1.5, // line width of a drawn particle 1.5\n            PARTICLE_MULTIPLIER: 0.3, // particle count scalar (completely arbitrary--this values looks nice) 500\n            FRAME_RATE: 60, // desired milliseconds per frame\n            NULL_WIND_VECTOR: [NaN, NaN, null], // singleton for no wind in the form: [u, v, magnitude]\n            FADE_TRANSPARENCY: 0.98,\n            COLOR_RAMP: \"#fc47dc\", // blue\n            COLOR_ALPHA: 0.95,\n            spData: \"data/mammals_mag.json\",\n            spName: \"mammals\",\n          },\n        },\n        scene6: {\n          amphibs: {\n            VELOCITY_SCALE: 0.03, // scale for wind velocity (completely arbitrary--this value looks nice)\n            INTENSITY_SCALE_STEP: 10, // step size of particle intensity color scale\n            MAX_WIND_INTENSITY: 40, // wind velocity at which particle intensity is maximum (m/s)\n            MAX_PARTICLE_AGE: 100, // higher = flow things out and gets wirey. 50\n            PARTICLE_LINE_WIDTH: 0.5, // line width of a drawn particle 1.5\n            PARTICLE_MULTIPLIER: 0.3, // particle count scalar (completely arbitrary--this values looks nice) 500\n            FRAME_RATE: 60, // desired milliseconds per frame\n            NULL_WIND_VECTOR: [NaN, NaN, null], // singleton for no wind in the form: [u, v, magnitude]\n            FADE_TRANSPARENCY: 0.96,\n            COLOR_RAMP: \"#fcfa47\", // blue\n            COLOR_ALPHA: 1,\n            spData: \"data/amphibs_mag.json\",\n            spName: \"amphibs\",\n          },\n          birds: {\n            VELOCITY_SCALE: 0.15, // scale for wind velocity (completely arbitrary--this value looks nice)\n            INTENSITY_SCALE_STEP: 10, // step size of particle intensity color scale\n            MAX_WIND_INTENSITY: 40, // wind velocity at which particle intensity is maximum (m/s)\n            MAX_PARTICLE_AGE: 100, // higher = flow things out and gets wirey. 50\n            PARTICLE_LINE_WIDTH: 0.5, // line width of a drawn particle 1.5\n            PARTICLE_MULTIPLIER: 0.3, // particle count scalar (completely arbitrary--this values looks nice) 500\n            FRAME_RATE: 60, // desired milliseconds per frame\n            NULL_WIND_VECTOR: [NaN, NaN, null], // singleton for no wind in the form: [u, v, magnitude]\n            FADE_TRANSPARENCY: 0.96,\n            COLOR_RAMP: \"#47d4fc\", // blue\n            COLOR_ALPHA: 1,\n            spData: \"data/birds_direction.json\",\n            spName: \"birds\",\n          },\n          mammals: {\n            VELOCITY_SCALE: 0.15, // scale for wind velocity (completely arbitrary--this value looks nice)\n            INTENSITY_SCALE_STEP: 10, // step size of particle intensity color scale\n            MAX_WIND_INTENSITY: 40, // wind velocity at which particle intensity is maximum (m/s)\n            MAX_PARTICLE_AGE: 100, // higher = flow things out and gets wirey. 50\n            PARTICLE_LINE_WIDTH: 0.5, // line width of a drawn particle 1.5\n            PARTICLE_MULTIPLIER: 0.3, // particle count scalar (completely arbitrary--this values looks nice) 500\n            FRAME_RATE: 60, // desired milliseconds per frame\n            NULL_WIND_VECTOR: [NaN, NaN, null], // singleton for no wind in the form: [u, v, magnitude]\n            FADE_TRANSPARENCY: 0.96,\n            COLOR_RAMP: \"#fc47dc\", // blue\n            COLOR_ALPHA: 1,\n            spData: \"data/mammals_mag.json\",\n            spName: \"mammals\",\n          },\n        },\n        scene7: {\n          amphibs: {\n            VELOCITY_SCALE: 0.03, // scale for wind velocity (completely arbitrary--this value looks nice)\n            INTENSITY_SCALE_STEP: 10, // step size of particle intensity color scale\n            MAX_WIND_INTENSITY: 40, // wind velocity at which particle intensity is maximum (m/s)\n            MAX_PARTICLE_AGE: 100, // higher = flow things out and gets wirey. 50\n            PARTICLE_LINE_WIDTH: 1.3, // line width of a drawn particle 1.5\n            PARTICLE_MULTIPLIER: 0.4, // particle count scalar (completely arbitrary--this values looks nice) 500\n            FRAME_RATE: 60, // desired milliseconds per frame\n            NULL_WIND_VECTOR: [NaN, NaN, null], // singleton for no wind in the form: [u, v, magnitude]\n            FADE_TRANSPARENCY: 0.98,\n            COLOR_RAMP: \"#fcfa47\", // blue\n            COLOR_ALPHA: 0.95,\n            spData: \"data/amphibs_mag.json\",\n            spName: \"amphibs\",\n          },\n          birds: {\n            VELOCITY_SCALE: 0.15, // scale for wind velocity (completely arbitrary--this value looks nice)\n            INTENSITY_SCALE_STEP: 10, // step size of particle intensity color scale\n            MAX_WIND_INTENSITY: 40, // wind velocity at which particle intensity is maximum (m/s)\n            MAX_PARTICLE_AGE: 100, // higher = flow things out and gets wirey. 50\n            PARTICLE_LINE_WIDTH: 1.3, // line width of a drawn particle 1.5\n            PARTICLE_MULTIPLIER: 0.4, // particle count scalar (completely arbitrary--this values looks nice) 500\n            FRAME_RATE: 60, // desired milliseconds per frame\n            NULL_WIND_VECTOR: [NaN, NaN, null], // singleton for no wind in the form: [u, v, magnitude]\n            FADE_TRANSPARENCY: 0.98,\n            COLOR_RAMP: \"#47d4fc\", // blue\n            COLOR_ALPHA: 0.95,\n            spData: \"data/birds_direction.json\",\n            spName: \"birds\",\n          },\n          mammals: {\n            VELOCITY_SCALE: 0.15, // scale for wind velocity (completely arbitrary--this value looks nice)\n            INTENSITY_SCALE_STEP: 10, // step size of particle intensity color scale\n            MAX_WIND_INTENSITY: 40, // wind velocity at which particle intensity is maximum (m/s)\n            MAX_PARTICLE_AGE: 100, // higher = flow things out and gets wirey. 50\n            PARTICLE_LINE_WIDTH: 1.3, // line width of a drawn particle 1.5\n            PARTICLE_MULTIPLIER: 0.4, // particle count scalar (completely arbitrary--this values looks nice) 500\n            FRAME_RATE: 60, // desired milliseconds per frame\n            NULL_WIND_VECTOR: [NaN, NaN, null], // singleton for no wind in the form: [u, v, magnitude]\n            FADE_TRANSPARENCY: 0.98,\n            COLOR_RAMP: \"#fc47dc\", // blue\n            COLOR_ALPHA: 0.95,\n            spData: \"data/mammals_mag.json\",\n            spName: \"mammals\",\n          },\n        },\n      },\n      content: [\n        {\n          step: 1,\n          text: \"<p>As climate change alters habitats and disrupts ecosystems, where will animals move to survive? And will human development prevent them from getting there?</p> <p>This map shows the average direction mammals, birds, and amphibians need to move to track hospitable climates as they shift across the landscape. &darr;</p>\",\n        },\n        {\n          step: 2,\n          text: '<h2>How?</h2><p>Researchers from University of Washington and The Nature Conservancy modeled potential habitat for 2954 species using climate change projections and the climatic needs of each species.</p> <p>Using flow models from <a href=\"https://www.circuitscape.org/\" target=\"_blank\">electronic circuit theory</a>, they plotted movement routes for each species, connecting current habitats with their projected locations under climate change.</p>',\n        },\n        {\n          step: 3,\n          text: '<h2>What Can We Do?</h2> <p>There are a number of ways that conservationists and land managers can <a href=\"https://blog.nature.org/science/2016/06/29/species-on-the-move-mapping-barriers-for-wildlife-in-a-warming-world/?utm_source=cgs&utm_medium=alsoin&utm_campaign=migrations\" target=\"_blank\">re-build or maintain connectivity</a> to improve species’ ability to adapt to warmer temperatures. Removing fencing, adding wildlife overpasses (or underpasses) to major roadways, and better routing of infrastructure like pipelines and powerlines can all help re-connect areas fragmented by human development.</p>',\n        },\n        {\n          step: 4,\n          text: \"<h2>So...</h2> <p><strong>Q: Does this mean 3000 species will move through my backyard because of climate change?</strong></p><p><strong>A:</strong> No, the researchers used coarse 50 km data, which is good for understanding the big picture view, but not good for understanding local patterns.</p>\",\n        },\n        {\n          step: 5,\n          text: \"<h2>Credits</h2><p>This map was created by <a href='mailto:dmajka@tnc.org' target='_blank'>Dan Majka</a>, who works for The Nature Conservancy's North America Region science team.</p><p>This work would have not been possible without the <a href='https://blog.nature.org/science/2018/04/26/innovation-for-conservation-brad-mcrae-1966-2017/' target='_blank'>pioneering connectivity science of Brad McRae (1966-2017).</p>\",\n        },\n\n        {\n          step: 7,\n          text: '<h2>References</h2><p>Lawler, JJ, et al. 2013. <a href=\"Lawler.2013.EcolLettersClimateRoutes.pdf\" target=\"_blank\">Projected climate-driven faunal movement routes</a>. Ecology Letters 16(8): 1014-1022. </p><p>McGuire, JL, et al. 2016. <a href=\"http://www.pnas.org/content/113/26/7195.abstract\" target=\"_blank\">Achieving climate connectivity in a fragmented landscape</a>. Proceedings of the National Academy of Sciences: 113: 7195-7200.</p>',\n        },\n      ],\n      activeContentStep: 0,\n    };\n  },\n  methods: {\n    debounce(func, wait = 100) {\n      let timeout;\n      return function (...args) {\n        clearTimeout(timeout);\n        timeout = setTimeout(() => {\n          func.apply(this, args);\n        }, wait);\n      };\n    },\n    shortcuts(event) {\n      switch (event.srcKey) {\n        case \"caption\":\n          console.log(\"toggle caption\");\n          this.toggleCaption();\n          break;\n        case \"dat\":\n          console.log(\"toggle dat\");\n          this.toggleDat();\n          break;\n      }\n    },\n    flyToLocation(map, location) {\n      var locations = {\n        SA: {\n          coords: [-60.28, -11.58],\n          zoom: 3.84,\n        },\n        NA: {\n          coords: [-94.5, 41],\n          zoom: 4,\n        },\n        West: {\n          coords: [-75, 8.3],\n          zoom: 2.67,\n        },\n        West2: {\n          coords: [-71.12, 6.4],\n          zoom: 2.41,\n        },\n        WestTight: {\n          coords: [-109, 44],\n          zoom: 8.5,\n        },\n        East: {\n          coords: [-78, 37],\n          zoom: 5,\n        },\n        World: {\n          coords: [12.2, 17.2],\n          zoom: 2,\n        },\n      };\n\n      var coords = locations[location].coords;\n      var zoom = locations[location].zoom;\n\n      console.log(\"flying to \" + location);\n\n      map.flyTo({\n        center: coords,\n        zoom: zoom,\n        speed: 0.5,\n        curve: 1,\n        essential: true,\n      });\n    },\n    fadeOpacity(layer, fadeDirection, fadeTime) {\n      var self = this;\n      var counter = 0;\n      var opacityFader = setInterval(function () {\n        if (fadeDirection === \"in\") {\n          self[layer] = counter / 50;\n        } else if (fadeDirection === \"out\") {\n          self[layer] = 1 - counter / 50;\n        }\n\n        counter++;\n        if (counter === 51) {\n          clearInterval(opacityFader);\n        }\n      }, fadeTime / 50);\n    },\n    removeDiv(divId, removeTime) {\n      setTimeout(function () {\n        document.getElementById(divId).remove();\n      }, removeTime);\n    },\n\n    createMap() {\n      var self = this;\n      // mapboxgl.accessToken =\n      //   \"pk.eyJ1IjoidG5jbWFwYm94IiwiYSI6ImNrYXBwejJraDAwcTQyc21lM3FxOTNvNGMifQ.xzJgQl3gipcqxuKWc5Uqbw\"; // tnc global mapbox account\n      // mapboxgl.accessToken =\n      //   'pk.eyJ1IjoiZG1hamthIiwiYSI6IlNuSHVNb0UifQ.zIkArM4rtyvdtMZjZEesBA';\n      mapboxgl.accessToken =\n        \"pk.eyJ1IjoiZG1hamthIiwiYSI6ImNrcmJpMjE2bTR0ZmwydnRmNm4xMG5yMGMifQ.XtPOIE4pFFUEIDcXc8W0oQ\";\n      const map = new mapboxgl.Map({\n        container: \"map\", // container id\n        //style: \"mapbox://styles/tncmapbox/cke4snn1m1h5619mp2n6r9afk\", // DEV2\n        //style: 'mapbox://styles/dmajka/ck21ant3kdor91cp7bjijnavk', // Albers\n        style: \"mapbox://styles/dmajka/ck7c4399204jm1iqrfcvlxf42\",\n        center: [-78, 19], // NA-SA\n        zoom: 3, // starting zoom, // NA-SA\n        attributionControl: true,\n        hash: true,\n      });\n\n      // disable map rotation using right click + drag\n      map.dragRotate.disable();\n      // disable map rotation using touch rotation gesture\n      map.touchZoomRotate.disableRotation();\n      map.keyboard.disableRotation();\n\n      map.addControl(\n        new mapboxgl.NavigationControl({\n          showCompass: false,\n        }),\n        \"top-left\"\n      );\n\n      // map.on(\"load\", () => {\n      //   console.log(\"map loaded\");\n      // }); // end map on load event\n\n      // map.once(\"idle\", () => {\n      //   console.log(\"map once idle\");\n      // }); // end map on load event\n\n      map.on(\"load\", function () {\n        map.setPaintProperty(\"lakes-7oy7ga\", \"fill-opacity\", 0);\n        map.setPaintProperty(\"americas-mask2-c5phmk\", \"fill-opacity\", 1);\n      });\n\n      self.map = map;\n      //console.log(\"map\", map);\n      return map;\n    },\n    calculateParticleWidth() {\n      var zoomLevel = this.map.getZoom();\n      var self = this;\n      var particleWidth = 1.5;\n\n      if (zoomLevel < 2) {\n        particleWidth = self.zoomWidth.z2; // 0.5\n      } else if (zoomLevel < 3) {\n        particleWidth = self.zoomWidth.z3; //0.4\n      } else if (zoomLevel < 4) {\n        particleWidth = self.zoomWidth.z4; //0.2\n      } else if (zoomLevel < 5) {\n        particleWidth = self.zoomWidth.z5; // 0.07\n      } else if (zoomLevel < 6) {\n        particleWidth = self.zoomWidth.z6; // 0.05\n      } else {\n        particleWidth = self.zoomWidth.z7;\n      }\n      //console.log(\"particle width\", particleWidth);\n      return particleWidth;\n    },\n    buildFlow(map, divName, config, windyContainer, cssClassArray) {\n      // function createHiPPICanvas(width, height) {\n      //   const ratio = window.devicePixelRatio;\n      //   const canvas = document.createElement(\"canvas\");\n      //   canvas.width = width * ratio;\n      //   canvas.height = height * ratio;\n      //   canvas.style.width = width + \"px\";\n      //   canvas.style.height = height + \"px\";\n      //   canvas.getContext(\"2d\").scale(ratio, ratio);\n      //   return canvas;\n      // }\n\n      //var self = this;\n      // GET WIND DATA\n      fetch(config.spData)\n        .then((d) => d.json())\n        .then((data) => {\n          // Remember - dom elements with ID, are exposed globally, so mapcanvas element exists already\n          var self = this;\n          var windy, timeout;\n          var parentNode = document.getElementById(\"windContainer\" + divName);\n          var canvasNode = document.createElement(\"canvas\");\n          //var canvasNode = createHiPPICanvas(1078, 456);\n          canvasNode.id = divName;\n          canvasNode.className = \"flowLayer\";\n          canvasNode.classList.add(...cssClassArray);\n          parentNode.appendChild(canvasNode);\n\n          windy = new Windy(\n            { canvas: document.getElementById(divName), data: data },\n            config\n          );\n\n          resetWind(map, windy, divName, this[divName + windyContainer]);\n\n          // REBUILD WIND AFTER MOVING, ZOOMING, OR RESIZING MAP\n          self.map.on(\"resize\", () => {\n            resetWind(map, windy, divName, this[divName + windyContainer]);\n          });\n          self.map.on(\"move\", () => {\n            resetWind(map, windy, divName, this[divName + windyContainer]);\n          });\n          self.map.on(\"zoom\", () => {\n            resetWind(map, windy, divName, this[divName + windyContainer]);\n          });\n\n          // function roundToNearestEven(num) {\n          //   // Round the number to the nearest integer\n          //   const rounded = Math.round(num);\n\n          //   // Check if the rounded number is odd\n          //   if (rounded % 2 !== 0) {\n          //     // If it's odd, adjust it to be even\n          //     if (num > rounded) {\n          //       return rounded + 1; // Round up\n          //     } else {\n          //       return rounded - 1; // Round down\n          //     }\n          //   }\n\n          //   return rounded; // Already even\n          // }\n\n          function resetWind(map, windy, divName, activeFlowConfig) {\n            var mapcanvas = document.getElementById(divName);\n            //var appElement = document.getElementById(\"map\");\n            var obj = getEventObject(map);\n            // var { north, south, west, east, width, height } = obj;\n            var { north, south, west, east } = obj;\n            // console.log(\"map object\", obj);\n            // console.log(\"window\", window.screen.width, window.screen.height);\n            // console.log(\"inner\", window.innerWidth, window.innerHeight);\n            //console.log(\"map stuff\", appElement.getBoundingClientRect());\n\n            var context = mapcanvas.getContext(\"2d\");\n            context.scale(devicePixelRatio, devicePixelRatio);\n\n            try {\n              mapcanvas.style.display = \"none\";\n            } catch {\n              console.log(\"oops\");\n            }\n\n            if (windy) {\n              windy.stop();\n            }\n            if (timeout) {\n              clearTimeout(timeout);\n            }\n            timeout = setTimeout(function () {\n              //var width2, height2;\n\n              mapcanvas.style.display = \"initial\";\n              mapcanvas.width = obj.width; // /2\n              mapcanvas.height = obj.height;\n\n              // mapcanvas.width = \"100vw\";\n              // mapcanvas.height = \"100vh\";\n\n              //console.log(\"DEVICE PIXEL RATIO\", window.devicePixelRatio);\n              //const devicePixelRatio = window.devicePixelRatio;\n              // width2 = Math.floor(width / devicePixelRatio);\n              // height2 = Math.floor(height / devicePixelRatio);\n\n              var container = map.getContainer();\n              const dimensions = {\n                x: container.clientWidth,\n                y: container.clientHeight,\n              };\n\n              // width2 = window.innerWidth * window.devicePixelRatio;\n              // height2 = window.innerHeight * window.devicePixelRatio;\n\n              // width2 = window.innerWidth * window.devicePixelRatio;\n              // height2 = window.innerHeight * window.devicePixelRatio;\n\n              // console.log(\"map\", map);\n              // //console.log(\"canvas\", map.get_canvas());\n              // console.log(\"width2\", width, width2);\n              // console.log(\"height2\", height, height2);\n              // console.log(\"dimensions\", dimensions.x, dimensions.y);\n              // console.log(\"mapbox height\", map._canvas.height);\n              // console.log(\"mapbox width\", map._canvas.width);\n              // console.log(\"event object\", obj);\n\n              windy.start(\n                [\n                  [0, 0],\n                  // [width2, height2],\n                  [dimensions.x, dimensions.y],\n                  // [screen.width, screen.height],\n                ],\n                // width2,\n                // height2,\n                dimensions.x,\n                dimensions.y,\n                // screen.width,\n                // screen.height,\n                [\n                  [west, south],\n                  [east, north],\n                ],\n                activeFlowConfig\n              );\n\n              // windy.start(\n              //   [\n              //     [0, 0],\n              //     [obj.width, obj.height],\n              //     // [screen.width, screen.height],\n              //   ],\n              //   obj.width,\n              //   obj.height,\n              //   // screen.width,\n              //   // screen.height,\n              //   [\n              //     [west, south],\n              //     [east, north],\n              //   ],\n              //   activeFlowConfig\n              // );\n            }, 50);\n          }\n\n          function getEventObject(map) {\n            var canvas = map.getCanvas();\n            //console.log(\"canvas\", canvas);\n\n            //canvas.scale(devicePixelRatio, devicePixelRatio);\n            var dimensions = map.getBounds();\n\n            var result = {\n              width: canvas.width,\n              height: canvas.height,\n              north: dimensions.getNorth(),\n              south: dimensions.getSouth(),\n              west: dimensions.getWest(),\n              east: dimensions.getEast(),\n              zoomLevel: map.getZoom(),\n            };\n\n            return result;\n          }\n        });\n    },\n    toggleCaption() {\n      console.log(\"toggle caption\");\n      let captionState = this.showCaption;\n      this.showCaption = captionState ? false : true;\n      //document.getElementById('birds').remove();\n    },\n    toggleDat() {\n      console.log(\"toggle Dat\");\n      let captionState = this.showDat;\n      this.showDat = captionState ? false : true;\n    },\n    loadFlowLayers() {\n      var self = this;\n\n      // Add config to Windy 1\n      this.amphibsActive = this.config.scene5.amphibs;\n      this.birdsActive = this.config.scene5.birds;\n      this.mammalsActive = this.config.scene5.mammals;\n\n      var amphibs = this.amphibsActiveWindy;\n      var birds = this.birdsActiveWindy;\n      var mammals = this.mammalsActiveWindy;\n\n      // Map properties - fade in countries and country lines\n      this.fadeOpacity(\"mapCountryLineOpacity\", \"in\", 10);\n      //this.mapCountryLineOpacity = 1;\n      setTimeout(function () {\n        self.mapCountryLabels = true;\n      }, 10);\n\n      // Build flow layers\n      this.buildFlow(self.map, \"birds\", birds, \"ActiveWindy\", []);\n      this.buildFlow(self.map, \"mammals\", mammals, \"ActiveWindy\", []);\n      this.buildFlow(self.map, \"amphibs\", amphibs, \"ActiveWindy\", []);\n    },\n    nextContent() {\n      this.activeContentStep = this.activeContentStep + 1;\n    },\n    previousContent() {\n      this.activeContentStep = this.activeContentStep - 1;\n    },\n  },\n  mounted: function () {\n    this.createMap();\n    this.loadFlowLayers();\n  },\n  watch: {\n    mapCountryLabels: {\n      handler() {\n        this.map.on(\"load\", () => {\n          var labelState = this.mapCountryLabels;\n          let labelVisibility = labelState ? \"visible\" : \"none\";\n          this.map.setLayoutProperty(\n            \"country-label-lg\",\n            \"visibility\",\n            labelVisibility\n          );\n        });\n        // var labelState = this.mapCountryLabels;\n        // let labelVisibility = labelState ? \"visible\" : \"none\";\n        // this.map.setLayoutProperty(\n        //   \"country-label-lg\",\n        //   \"visibility\",\n        //   labelVisibility\n        // );\n      },\n    },\n    mapCityLabels: {\n      handler() {\n        var labelState = this.mapCityLabels;\n        let labelVisibility = labelState ? \"visible\" : \"none\";\n        this.map.setLayoutProperty(\n          \"place-city-lg-n\",\n          \"visibility\",\n          labelVisibility\n        );\n        this.map.setLayoutProperty(\n          \"place-city-lg-s\",\n          \"visibility\",\n          labelVisibility\n        );\n      },\n    },\n\n    mapSatelliteOpacity: {\n      handler() {\n        let opacity = this.mapSatelliteOpacity;\n        this.map.setPaintProperty(\n          \"mapbox-satellite\",\n          \"raster-opacity\",\n          opacity\n        );\n      },\n    },\n\n    mapCountryLineWidth: {\n      handler() {\n        let lineWidth = this.mapCountryLineWidth;\n        this.map.setPaintProperty(\n          \"admin-2-boundaries\",\n          \"line-width\",\n          lineWidth\n        );\n      },\n    },\n\n    mapCountryLineOpacity: {\n      handler() {\n        let opacity = this.mapCountryLineOpacity;\n        this.map.setPaintProperty(\n          \"admin-2-boundaries\",\n          \"line-opacity\",\n          opacity\n        );\n\n        this.map.setPaintProperty(\n          \"admin-2-boundaries-bg\",\n          \"line-opacity\",\n          opacity\n        );\n      },\n    },\n    mapRoadsOpacity: {\n      handler() {\n        let opacity = this.mapRoadsOpacity;\n        this.map.setPaintProperty(\"major-roads\", \"line-opacity\", opacity);\n      },\n    },\n    mapLandColor: {\n      handler() {\n        let color = this.mapLandColor;\n        this.map.setPaintProperty(\"background\", \"background-color\", color);\n      },\n    },\n    mapLandOpacity: {\n      handler() {\n        let opacity = this.mapLandOpacity;\n        this.map.setPaintProperty(\"background\", \"background-opacity\", opacity);\n      },\n    },\n    mapLakeColor: {\n      handler() {\n        let color = this.mapLakeColor;\n        this.map.setPaintProperty(\"lakes-7oy7ga\", \"fill-color\", color);\n      },\n    },\n    mapLakeOpacity: {\n      handler() {\n        let opacity = this.mapLakeOpacity;\n        this.map.setPaintProperty(\"lakes-7oy7ga\", \"fill-opacity\", opacity);\n      },\n    },\n    mapWaterColor: {\n      handler() {\n        let color = this.mapWaterColor;\n        //this.map.setPaintProperty('americas-mask2-c5phmk', 'fill-color', color);\n        this.map.setPaintProperty(\"water\", \"fill-color\", color);\n      },\n    },\n    mapWaterOpacity: {\n      handler() {\n        let opacity = this.mapWaterOpacity;\n        // this.map.setPaintProperty(\n        //   'americas-mask2-c5phmk',\n        //   'fill-opacity',\n        //   opacity\n        // );\n        this.map.setPaintProperty(\"water\", \"fill-opacity\", opacity);\n      },\n    },\n\n    compositeSelected: {\n      deep: true,\n      handler() {\n        let currentZoom = this.map.getZoom();\n        this.map.zoomTo(currentZoom);\n      },\n    },\n    amphibsActive: {\n      deep: true,\n      handler() {\n        let currentZoom = this.map.getZoom();\n        this.map.zoomTo(currentZoom);\n      },\n    },\n    amphibsColor: {\n      handler() {\n        let currentZoom = this.map.getZoom();\n        this.map.zoomTo(currentZoom);\n      },\n    },\n    birdsActive: {\n      deep: true,\n      handler() {\n        let currentZoom = this.map.getZoom();\n        this.map.zoomTo(currentZoom);\n      },\n    },\n    birdsColor: {\n      handler() {\n        let currentZoom = this.map.getZoom();\n        this.map.zoomTo(currentZoom);\n      },\n    },\n    mammalsActive: {\n      deep: true,\n      handler() {\n        let currentZoom = this.map.getZoom();\n        this.map.zoomTo(currentZoom);\n      },\n    },\n    mammalsColor: {\n      handler() {\n        let currentZoom = this.map.getZoom();\n        this.map.zoomTo(currentZoom);\n      },\n    },\n  },\n  computed: {\n    activeContent() {\n      return this.content[this.activeContentStep].text;\n    },\n    amphibsActiveWindy() {\n      //var birdsConfig = this.birdsActive;\n      let amphibsConfig = JSON.parse(JSON.stringify(this.amphibsActive));\n      var amphibsColor = this.amphibsColor;\n      amphibsConfig.FADE_FILL_STYLE =\n        \"rgba(0, 0, 0, \" + amphibsConfig.FADE_TRANSPARENCY + \")\";\n      amphibsConfig.COLOR_RAMP = (\" \" + amphibsColor).slice(1);\n      amphibsConfig.COMPOSITE_OPERATION = this.compositeSelected;\n      amphibsConfig.PARTICLE_LINE_WIDTH = this.calculateParticleWidth();\n\n      return amphibsConfig;\n    },\n    birdsActiveWindy() {\n      //var birdsConfig = this.birdsActive;\n      let birdsConfig = JSON.parse(JSON.stringify(this.birdsActive));\n      var birdsColor = this.birdsColor;\n      birdsConfig.FADE_FILL_STYLE =\n        \"rgba(0, 0, 0, \" + birdsConfig.FADE_TRANSPARENCY + \")\";\n      birdsConfig.COLOR_RAMP = (\" \" + birdsColor).slice(1);\n      birdsConfig.COMPOSITE_OPERATION = this.compositeSelected;\n      birdsConfig.PARTICLE_LINE_WIDTH = this.calculateParticleWidth();\n\n      return birdsConfig;\n    },\n    mammalsActiveWindy() {\n      //var birdsConfig = this.birdsActive;\n      let mammalsConfig = JSON.parse(JSON.stringify(this.mammalsActive));\n      var mammalsColor = this.mammalsColor;\n      mammalsConfig.FADE_FILL_STYLE =\n        \"rgba(0, 0, 0, \" + mammalsConfig.FADE_TRANSPARENCY + \")\";\n      mammalsConfig.COLOR_RAMP = (\" \" + mammalsColor).slice(1);\n      mammalsConfig.COMPOSITE_OPERATION = this.compositeSelected;\n      mammalsConfig.PARTICLE_LINE_WIDTH = this.calculateParticleWidth();\n\n      return mammalsConfig;\n    },\n  },\n};\n</script>\n\n<style>\n@import url(\"https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,400;1,800&display=swap\");\n\nhtml,\nbody {\n  height: 100%;\n  width: 100%;\n}\n\nbody {\n  background-color: #000;\n  padding: 0px;\n  margin: 0px;\n  font-family: \"Open Sans\", sans-serif;\n  user-select: none;\n  resize: none !important;\n  width: 100%;\n  height: 100%;\n}\n\n#app {\n  /* font-family: Avenir, Helvetica, Arial, sans-serif; */\n  font-family: \"Open Sans\", \"Futura Bold\", helvetica, arial, \"arial narrow\",\n    arial;\n  font-family: \"Open Sans\", sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: white;\n  margin-top: 0px;\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 100%;\n}\np {\n  color: white;\n  text-align: left;\n  margin: 10px 10px;\n  font-size: 14px;\n}\nh2 {\n  font-size: 18px;\n  margin: 10px 10px 0px;\n  color: #fff;\n  padding: 2px 5px;\n  display: inline-block;\n  background: #fc47dc;\n  text-align: left;\n  transform: rotate(-2deg);\n}\n\n/* .map-wrapper {\n  position: relative;\n  width: 100%;\n  height: 100%;\n} */\n\n#map {\n  /* position: absolute;\n  top: 0;\n  bottom: 0; */\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  outline: none !important;\n  /* transform: translate3d(0px, 128px, 0px); */\n  /* margin: 20px 0px 20px 0px;\n  border: 10px solid white;\n  box-shadow: 0px 3px 5px rgba(0, 0, 0, 0.1); */\n  /* border-right: 1px solid #ccc; */\n}\n\n#legend {\n  position: absolute;\n  bottom: 30px;\n  right: 10px;\n  width: 140px;\n  background: #fff;\n  z-index: 9999999;\n  color: black;\n  font-family: \"Open Sans\", sans-serif;\n  text-transform: uppercase;\n  border-radius: 3px;\n  padding: 10px 5px 5px;\n  font-size: 13px;\n}\n\n.legend-item {\n  margin-bottom: 10px;\n  text-align: left;\n}\n\n#legend-inline {\n  width: 100%;\n}\n.legend-item-inline {\n  display: inline-block;\n  font-size: 13px;\n  margin: 15px 0px 0px 5px;\n}\n\n.legend-color {\n  width: 16px;\n  height: 16px;\n  display: inline-block;\n  margin: 0px 5px;\n  float: left;\n  border-radius: 20px;\n}\n.legend-text {\n  float: left;\n}\n\n/* .legend-color {\n  width: 20px;\n  height: 20px;\n  display: inline-block;\n  margin: 0px 5px;\n  float: left;\n  border-radius: 20px;\n} */\n\n.hide {\n  display: none !important;\n}\n/* .nocursor {\n  cursor: none !important;\n} */\n\n/* .mapboxgl-control-container {\n  display: none;\n} */\n\n#viz-controls {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 200px;\n  height: 700px;\n  background: white;\n  border: 1px solid black;\n  z-index: 9999999;\n}\n\ndiv #viz-meta div {\n  text-align: left;\n}\n\np.dat-meta {\n  display: block;\n  background: black;\n  padding: 10px;\n  text-align: left;\n  line-height: 1.5em;\n  margin: 0 0;\n}\n\ndiv.dat-gui-ui {\n  z-index: 999999 !important;\n  width: 300px;\n  height: 100% !important;\n}\ndiv.vue-dat-gui .group {\n  height: 100% !important;\n}\n\n.vue-dat-gui .group.group--main > ul {\n  max-height: 90vh !important;\n}\n\n#caption {\n  background: rgba(0, 0, 0, 0.2);\n  position: absolute;\n  width: 100%;\n  bottom: 0;\n  left: 0;\n  z-index: 9999999;\n}\n\n.steps {\n  position: absolute;\n  width: 300px;\n  right: 20px;\n  top: 850px;\n  z-index: 99999999;\n}\n\n#caption p {\n  text-align: left;\n  color: yellow;\n  font-size: 30px;\n  line-height: 1.5em;\n  margin: 0 0px 0px;\n  padding: 10px 80px;\n  /* color: black; */\n  text-shadow: 1px 1px 2px black;\n  font-weight: bold;\n  /* background: white;\n  color: black; */\n}\n\n#viz-meta {\n  z-index: 99999;\n  position: absolute;\n  left: 10px;\n  bottom: 10px;\n  width: 300px;\n  max-height: 360px;\n  /* height: 90vh; */\n  border: 5px solid #000;\n  background: #000;\n  overflow-y: scroll;\n}\n\n#viz-meta h1 {\n  font-family: \"Open Sans\", sans-serif;\n  text-align: left;\n  font-size: 32px;\n  line-height: 1em;\n  text-transform: uppercase;\n  font-weight: 800;\n  font-style: italic;\n  padding: 5px 10px;\n  background: #fcfa47;\n  color: #000;\n  margin: 0;\n}\n\ndiv.steps {\n  width: 300px;\n  height: 30px;\n  margin-left: 0px;\n  padding-left: 30px;\n}\nspan.step {\n  padding: 2px 8px;\n  border: 1px solid #000;\n  cursor: pointer;\n}\n\n.mapbox-map-container {\n  top: 0px;\n  position: fixed;\n  width: 100%;\n  height: 100vh;\n}\n\n.wind-map-container {\n  /*  opacity: 0.75;*/\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vh;\n  height: 100vh;\n  z-index: 9999;\n  pointer-events: none;\n  object-fit: contain;\n}\n\n/* .flowLayer {\n  position: absolute;\n  top: 0;\n  left: 0;\n  object-fit: contain; \n  transform: scale(1);\n  transform-origin: top left;\n} */\n\n/* .flowLayer {\n  opacity: 1;\n  position: fixed;\n  top: 0px;\n  width: 100%;\n  height: 100%;\n  z-index: 99;\n  pointer-events: none;\n} */\n\ncanvas {\n  outline: none !important;\n}\n\na {\n  text-decoration: none;\n  color: #47d4fc;\n}\n\na:hover {\n  text-decoration: none;\n  color: #47d4fc;\n  border-bottom: 1px solid #47d4fc;\n}\n\n/* Works on Firefox */\n* {\n  scrollbar-width: thin;\n  scrollbar-color: black #fc47dc;\n}\n\n/* Works on Chrome, Edge, and Safari */\n*::-webkit-scrollbar {\n  width: 4px;\n}\n\n*::-webkit-scrollbar-track {\n  background: black;\n}\n\n*::-webkit-scrollbar-thumb {\n  background-color: #666;\n  border-radius: 0px;\n  border: 0px solid yellow;\n}\n\n@media (max-width: 480px) {\n  .vue-dat-gui {\n    display: none;\n  }\n\n  #viz-meta {\n    max-height: 240px;\n    height: 240px;\n  }\n  #viz-meta h1 {\n    font-size: 20px;\n  }\n  #viz-meta h2 {\n    font-size: 16px;\n  }\n  #viz-meta p {\n    font-size: 14px;\n  }\n  .title-break {\n    display: none;\n  }\n}\n.tnc-logo {\n  width: 150px;\n  height: auto;\n  margin: 15px 0 10px;\n}\n\n#switch-container {\n  display: block;\n  margin: 20px 10px 15px;\n}\n#switch-container .switch-label {\n  font-size: 14px;\n  margin: 0 10px;\n}\n\n/* The switch - the box around the slider */\n#switch-container .switch {\n  position: relative;\n  display: inline-block;\n  width: 40px;\n  height: 20px;\n  margin-left: 10px;\n}\n\n/* Hide default HTML checkbox */\n#switch-container .switch input {\n  opacity: 0;\n  width: 0;\n  height: 0;\n}\n\n/* The slider */\n#switch-container .slider {\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: #ccc;\n  -webkit-transition: 0.4s;\n  transition: 0.4s;\n}\n\n#switch-container .slider:before {\n  position: absolute;\n  content: \"\";\n  height: 18px;\n  width: 18px;\n  left: 2px;\n  bottom: 1px;\n  background-color: white;\n  -webkit-transition: 0.4s;\n  transition: 0.4s;\n}\n\n#switch-container input:checked + .slider {\n  background-color: #2196f3;\n}\n\n#switch-container input:focus + .slider {\n  box-shadow: 0 0 1px #2196f3;\n}\n\n#switch-container input:checked + .slider:before {\n  -webkit-transform: translateX(18px);\n  -ms-transform: translateX(18px);\n  transform: translateX(18px);\n}\n\n/* Rounded sliders */\n#switch-container .slider.round {\n  border-radius: 20px;\n}\n\n#switch-container .slider.round:before {\n  border-radius: 50%;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=7eeeb29d&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=7eeeb29d&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport App from './App.vue';\n\nVue.config.productionTip = false;\n\nVue.use(require('vue-shortkey'));\n\nimport DatGui from '@cyrilf/vue-dat-gui';\n\nVue.use(DatGui);\n\nnew Vue({\n  render: (h) => h(App),\n}).$mount('#app');\n"],"sourceRoot":""}